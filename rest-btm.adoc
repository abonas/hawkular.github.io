

== Base Path
#`http://localhost:8080/hawkular/btm`#

== REST APIs
=== Report & Query Business Transactions



==============================================
*Endpoint* `/transactions`


NOTE: *Add a list of business transactions* 

*Method*
****
*POST* `/transactions`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |tenantId|false||string
|=======================
*body parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|true|List of business transactions|<<BusinessTransaction,List[BusinessTransaction]>>
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Adding business transactions succeeded. | -
| 500    | Unexpected error happened while storing the business transactions | -

|=======================

{empty} +

NOTE: *Query business transaction fragments associated with criteria* 

*Method*
****
*GET* `/transactions`
****

*query parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |startTime|false|retrieve business transactions after this time, millisecond since epoch|long
    |endTime|false|retrieve business transactions before this time, millisecond since epoch|long
    |properties|false|retrieve business transactions with these properties, defined as a comma separated list of name|value pairs|string
    |correlations|false|retrieve business transactions with these correlation identifiers, defined as a comma separated list of scope|value pairs|string
|=======================

*Response* +
BusinessTransaction

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success | -
| 500    | Internal server error | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/transactions/{id}`


NOTE: *Retrieve business transaction fragment for specified id* 

*Method*
****
*GET* `/transactions/{id}`
****

*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |id|true|id of required business transaction|string
|=======================

*Response* +
BusinessTransaction

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, business transaction found and returned | -
| 500    | Internal server error | -
| 400    | Unknown business transaction id | -

|=======================

{empty} +

==============================================

{empty} +


== Data Types

{empty} +

[[BusinessTransaction]]
=== BusinessTransaction
[options="header"]
|=======================
| Name | Type | Required | Description | Allowable Values
|nodes|Array[Node]|optional|-|-
|properties|Map[string,string]|optional|-|-
|id|string|optional|-|-
|=======================


[[Node]]
=== Node
[options="header"]
|=======================
| Name | Type | Required | Description | Allowable Values
|correlationIds|Set|optional|-|-
|startTime|long|optional|-|-
|duration|long|optional|-|-
|=======================


{empty} +
{empty} +
{empty} +
