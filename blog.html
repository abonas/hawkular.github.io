<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Hawkular</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="generator" content="JBake">

    <!-- css -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/asciidoctor.css" rel="stylesheet">
    <link href="css/base.css" rel="stylesheet">
    <link href="css/tabzilla.css" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">
    <link href="css/prettify.css" rel="stylesheet">
    <link href="css/ekko-lightbox.min.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
    <script src="js/moment.min.js"></script>
    <script src="js/jquery-1.11.2.min.js"></script>

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="alternate" href="feed.xml" title="Hawkular Blog - RSS" type="application/rss+xml">

  </head>
  <body onload="prettyPrint()" data-spy="scroll" data-offset="80" data-target="#toc">
    <div id="wrap">
      <div class="dropup">
        <a class="tabnav-closed" href="#" id="tab">Red Hat</a>
        <script>
            window.addEventListener('load', function() {
                 renderTabzilla("Hawkular", "https://hawkular.github.io", true );
            }, false);
        </script>
      </div>

    	<!-- Fixed navbar -->
        <nav class="navbar navbar-fixed-top" role="navigation">
          <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button class="navbar-toggle collapsed" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="index.html">Home</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
              <ul class="nav navbar-nav">
                <li><a href="index.html">Hawkular</a></li>
                <li><a href="docs/overview.html">Overview</a></li>
                <li><a href="docs/user/quick-start.html">Quick Start</a></li>
                <li class=""><a href="downloads.html">Downloads</a></li>
                <li class="dropdown">
                  <a aria-expanded="false" class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">
                    Metrics<span class="caret"></span>
                  </a>
                  <ul class="dropdown-menu" role="menu">
                    <li>
                      <a href="docs/components/metrics/index.html">User Guide</a>
                    </li>
                    <li>
                      <a href="docs/rest/rest-metrics.html">REST API</a>
                    </li>
                  </ul>
                </li>
                <li class="dropdown"><a aria-expanded="false" class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">
                  Documentation
                  <span class="caret"></span>
                </a>
                <ul class="dropdown-menu" role="menu">
                  <li>
                    <a href="docs/user/user-guide.html">User Guide</a>
                  </li>
                  <li>
                    <a href="docs/user/installation-guide.html">Installation Guide</a>
                  </li>
                  <!--li>
                    <a href="docs/dev/terms.html">Used Terms</a>
                  </li-->
                  <li class="menu-item dropdown dropdown-submenu">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">REST API</a>
                    <ul class="dropdown-menu">
                      <li class="menu-item ">
                        <a href="docs/rest/rest-alerts.html">Alerts</a>
                      </li>
                      <li class="menu-item ">
                        <a href="https://hawkular.gitbooks.io/hawkular-apm-user-guide/content/apiref/rest-apm.html">Application Performance Management</a>
                      </li>
                        <li class="menu-item ">
                            <a href="docs/rest/rest-datamining.html">Data Mining</a>
                        </li>
                      <li class="menu-item ">
                        <a href="docs/rest/rest-inventory.html">Inventory</a>
                      </li>
                      <li class="menu-item ">
                        <a href="docs/rest/rest-metrics.html">Metrics</a>
                      </li>
                    </ul>
                  </li>
                  <li class="menu-item dropdown dropdown-submenu">
                    <a href="javascript:;" onclick="return false;" class="dropdown-toggle" data-toggle="dropdown">Sub-projects</a>
                    <ul class="dropdown-menu">
                      <li class="menu-item ">
                        <a href="docs/components/alerts/index.html">Alerts</a>
                      </li>
                      <li class="menu-item ">
                        <a href="https://hawkular.gitbooks.io/hawkular-apm-user-guide/content/">Application Performance Management</a>
                      </li>
                      <li class="menu-item ">
                        <a href="docs/components/datamining/index.html">Data Mining</a>
                      </li>
                      <li class="menu-item ">
                        <a href="docs/components/inventory/index.html">Inventory</a>
                      </li>
                      <li class="menu-item ">
                        <a href="docs/components/metrics/index.html">Metrics</a>
                      </li>
                    </ul>
                  </li>
                </ul>
                <li class="dropdown"><a aria-expanded="false" class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">
                  Community
                  <span class="caret"></span>
                </a>
                <ul class="dropdown-menu" role="menu">
                  <li>
                    <a href="community/index.html">Home</a>
                  </li>
                  <li>
                    <a href="community/join.html">Join</a>
                  </li>
                  <li>
                    <a href="license.html">License</a>
                  </li>
                  <li>
                    <a href="docs/dev/development.html">Developer Guide</a>
                  </li>
                  <li>
                    <a href="https://travis-ci.org/hawkular">CI Builds</a>
                  </li>
                </ul></li>
                <li class=""><a href="blog.html">Blog</a></li>
              </ul>
            </div>
          </div>
        </nav>


<section class="main-banner blog-mainbanner">
    <div class="container">
        <h1>Hawkular Blog</h1>
    </div>
</section>


<div class="blog-container">
            <a href="blog/2016/07/06/hawkular-metrics-0.17.0.Final-released.html"><h1>Hawkular Metrics 0.17.0 - Release</h1></a>
            <p>06 July 2016, by Stefan Negrea</p>
            <p><p>I am happy to announce release 0.17.0 of Hawkular Metrics. This release is anchored by performance enhancements and new Grafana Datasource Plugin.</p><p>Here is a list of major changes:</p>
<ol>
  <li><strong>Grafana Datasource Plugin - Experimental</strong></li>
</ol>
<ul>
  <li>A new Grafana 3 datasource plugin is now available for Hawkular Metrics. This plugin integrates natively via the REST API.</li>
  <li>For downloads and installation instructions please visit <a href="https://github.com/hawkular/hawkular-grafana-datasource">Hawkular Datasource for Grafana</a></li>
  <li>The plugin is developed as an independent project and contributions are welcomed.</li>
</ul>
<ol>
  <li><strong>InfluxDB API - DEPRECATED</strong></li>
</ol>
<ul>
  <li>The InfluxDB API has been deprecated and will be removed in the upcoming release.</li>
  <li>This was an addition to make project integrations easier. As the REST interface matured, the role of the InfluxDB compatibility interface was reduced only serve as the Grafana interface. With the release of the native Grafana plugin, this is no longer needed.</li>
  <li>For more details: <a href="https://issues.jboss.org/browse/HWKMETRICS-411">HWKMETRICS-411</a></li>
</ul>
<ol>
  <li><strong>Fetching Raw Data - Multiple Metrics - Experimental</strong></li>
</ol>
<ul>
  <li>Prior to this release, it was possible to only fetch raw data points for a single metric. This release added <code>POST */query</code> endpoint that allows querying for raw data points for multiple metrics.</li>
  <li>The endpoints are:
  <ul>
    <li><code>POST /hawkular/metrics/gauges/raw/query</code></li>
    <li><code>POST /hawkular/metrics/counters/raw/query</code></li>
    <li><code>POST /hawkular/metrics/counters/rates/query</code></li>
    <li><code>POST /hawkular/metrics/strings/raw/query</code></li>
    <li><code>POST /hawkular/metrics/availability/raw/query</code></li>
    <li><code>POST /hawkular/metrics/metrics/raw/query</code></li>
  </ul></li>
  <li>The endpoint accepts a list of metrics ids and allows filtering by providing start time, end time, sort order and limit.</li>
  <li>For more details: <a href="https://issues.jboss.org/browse/HWKMETRICS-393">HWKMETRICS-393</a></li>
</ul>
<ol>
  <li><strong>Performance Enhancements</strong></li>
</ol>
<ul>
  <li>Two Cassandra driver settings (maxConnectionsPerHost and maxRequestsPerConnection) are now user configurable. Part of the update, the default values have been increased from the driver defaults. The new defaults had a significant performance boost for a simple test deployment. The settings are configurable to allow users to optimize driver behavior for larger Hawkular Metrics deployments. (<a href="https://issues.jboss.org/browse/HWKMETRICS-430">HWKMETRICS-430</a>)</li>
  <li>On Linux deployments, the Cassandra driver uses Netty native epoll (<a href="https://issues.jboss.org/browse/HWKMETRICS-418">HWKMETRICS-418</a>)</li>
</ul>
<ol>
  <li><strong>Cassandra</strong></li>
</ol>
<ul>
  <li>Fixed an issue with schema upgrades present in Hawkular Metrics 0.15.0 and 0.16.0. We recommend upgrading from previous versions directly to 0.17.0. For more details: <a href="https://issues.jboss.org/browse/HWKMETRICS-425">HWKMETRICS-425</a></li>
  <li>Cassandra 3.7 is now the supported version of Cassandra. Support has been deprecated for Cassandra 3.5.</li>
</ul><h3>Hawkular Metrics Clients</h3>
<ul>
  <li>Python: <a href="https://github.com/hawkular/hawkular-client-python">https://github.com/hawkular/hawkular-client-python</a></li>
  <li>Go: <a href="https://github.com/hawkular/hawkular-client-go">https://github.com/hawkular/hawkular-client-go</a></li>
  <li>Ruby: <a href="https://github.com/hawkular/hawkular-client-ruby">https://github.com/hawkular/hawkular-client-ruby</a></li>
  <li>Java: <a href="https://github.com/hawkular/hawkular-client-java">https://github.com/hawkular/hawkular-client-java</a></li>
</ul><h3>Release Links</h3>
<ul>
  <li>Github Release: <a href="https://github.com/hawkular/hawkular-metrics/releases/tag/0.17.0">https://github.com/hawkular/hawkular-metrics/releases/tag/0.17.0</a></li>
  <li>JBoss Nexus Maven artifacts: <a href="http://origin-repository.jboss.org/nexus/content/repositories/public/org/hawkular/metrics/">http://origin-repository.jboss.org/nexus/content/repositories/public/org/hawkular/metrics/</a></li>
  <li>Jira release tracker: <a href="https://issues.jboss.org/browse/HWKMETRICS/fixforversion/12330692">https://issues.jboss.org/browse/HWKMETRICS/fixforversion/12330692</a></li>
</ul><p>A big "Thank you" goes to John Sanda, Thomas Segismont, Mike Thompson, Matt Wringe, Michael Burman, and Heiko Rupp for their project contributions.</p></p>
            <br />
            <hr /><br />
            <br />
            <a href="blog/2016/07/05/hawkular-services-0.0.5.Final.html"><h1>Hawkular Services 0.0.5.Final</h1></a>
            <p>05 July 2016, by Heiko W. Rupp</p>
            <p><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Hawkular Services is a new base line distribution including only the basic Hawkular components, such as Alerts, Inventory and Metrics.
The version <a href="https://repository.jboss.org/nexus/content/groups/public/org/hawkular/services/hawkular-services-dist/0.0.5.Final/hawkular-services-dist-0.0.5.Final.zip">0.0.5.Final</a> has just been released and is ready to be tested and integrated with other projects.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_s_in_this_release">What&#8217;s in this release</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This release has updated components:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Inventory is now at v 0.17.2, which features a new api. The old api endpoint has been moved to <code>/deprecated</code></p>
</li>
<li>
<p>Hawkular-Metrics is at v 0.17.0</p>
</li>
<li>
<p>Hawkular-agent has been bumped to v 0.20.0 to make use of the new Inventory api. Please note that some inventory objects now have a different name.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_hawkular_ruby_client">Hawkular Ruby Client</h3>
<div class="paragraph">
<p>While not included in these release zips above, we have upgraded the <a href="https://github.com/hawkular/hawkular-client-ruby">Hawkular-Ruby-Gem</a> to <a href="https://rubygems.org/gems/hawkular-client/versions/2.2.0">v2.2.0</a> to cater
for the change in the Inventory api. All changes can be seen in the <a href="https://github.com/hawkular/hawkular-client-ruby/blob/master/CHANGES.rdoc">Changes file</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_differences_to_hawkular_main">Differences to Hawkular-main</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Notable differences between the main Hawkular distribution and Hawkular Services are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Hawkular Services does not ship with a User Interface. Interaction with the backend is exclusively done via REST.</p>
</li>
<li>
<p>Authentication is accomplished via JAAS, configured directly via Wildfly. Please refer to the Wildfly documentation on how to accomplish scenarios like LDAP user database.</p>
</li>
<li>
<p>Due to the changes in the authentication, Keycloak is not part of the distribution, although it can still be used via JAAS. Please refer to the Keycloak documentation on how to protect deployments.</p>
</li>
<li>
<p>Due to the removal of Keycloak, multi tenancy is also simplified. The backend endpoints expect to receive a <code>Hawkular-Tenant</code>, so, multi tenancy is now handled on the consumer side.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information on the details of this new distribution as well as the background, see the blog post <a href="http://www.hawkular.org/blog/2016/04/28/new-packaging.html">New Hawkular packaging</a>. Note that
<code>hawkular-core-services</code> on that post is what we now know as <code>hawkular-services</code>.</p>
</div>
<div class="paragraph">
<p>Hawkular Services is released every week on Tuesdays.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_get_started">Get started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To get started with Hawkular Services, <a href="https://repository.jboss.org/nexus/content/groups/public/org/hawkular/services/hawkular-services-dist/0.0.5.Final/hawkular-services-dist-0.0.5.Final.zip">download the latest release</a>, unzip it,
add a user and set the Agent to use the credentials for the user just added.</p>
</div>
<div class="paragraph">
<p>It can be accomplished with the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-bash" data-lang="bash">export HAWKULAR_HOME="/path/to/hawkular-services"
export HAWKULAR_USERNAME="jdoe"
export HAWKULAR_PASSWORD="password"

cd "${HAWKULAR_HOME}"
"${HAWKULAR_HOME}/bin/add-user.sh" \
  -a \
  -u "${HAWKULAR_USERNAME}" \
  -p "${HAWKULAR_PASSWORD}" \
  -g read-write,read-only
"${HAWKULAR_HOME}/bin/standalone.sh" -Dhawkular.rest.user="${HAWKULAR_USERNAME}" -Dhawkular.rest.password="${HAWKULAR_PASSWORD}"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Before starting the server, you need to have Cassandra 3.7 up and running with the RPC port enabled either via
setting the env variable of <code>CASSANDRA_START_RPC</code> to <code>true</code></p>
</div>
<div class="paragraph">
<p>or by editing <code>cassandra.yml</code> and setting it there:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-yml" data-lang="yml"># Whether to start the thrift rpc server.
start_rpc: true</code></pre>
</div>
</div>
<div class="paragraph">
<p>Using <code>ccm</code> you can use this to update the config: <code>ccm updateconf 'start_rpc: true'</code>.
Another option is via <code>nodetool enablethrift</code>.</p>
</div>
<div class="sect2">
<h3 id="_build_from_master_and_cassandra">Build from master and Cassandra</h3>
<div class="paragraph">
<p>If you build from master, you can pass <code>-Pembeddedc</code> to get a distribution with embedded Cassandra for local development.
Similarly if you build via <code>-Pdev</code> a default user of <em>jdoe/password</em> will be installed and also be used with the agent.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_use_grafana_with_hawkular_services">Use Grafana with Hawkular-services</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We do now have a Grafana datasource to make it easier to connect to Hawkular-services from Grafana.
The <a href="https://github.com/hawkular/hawkular-grafana-datasource">website of the datasource tells more</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_get_started_via_inofficial_docker_builds">Get started via (inofficial) Docker builds</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are inofficial Docker images of the release and also an instrumented WildFly available on
DockerHub at <a href="https://hub.docker.com/r/pilhuhn/hawkular-services/">Hawkular services</a>
and <a href="https://hub.docker.com/r/pilhuhn/hawkfly/">Instrumented WildFly</a>.</p>
</div>
<div class="paragraph">
<p>Both images have been instrumented with the <em>jdoe/password</em> user for the Hawkular server and the agent.</p>
</div>
<div class="paragraph">
<p>See also <a href="http://pilhuhn.blogspot.de/2016/06/using-hawkular-services-via-docker.html" class="bare">http://pilhuhn.blogspot.de/2016/06/using-hawkular-services-via-docker.html</a> on some more
details about using those images.</p>
</div>
</div>
</div></p>
            <br />
            <hr /><br />
            <br />
            <a href="blog/2016/07/05/scaling-hawkular-alerting.html"><h1>Scaling stateful services: an example in Hawkular Alerting</h1></a>
            <p>05 July 2016, by Lucas Ponce</p>
            <p><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Today stateless service architectures have the benefit to simplify the design of distributed scenarios.
With no state in the logic and a common backend, scaling could be implemented with simple additions of new nodes in the topology and distributing incoming requests with load balancer solutions.</p>
</div>
<div class="paragraph">
<p>But a stateless design can not be applied to every scenario, there are computational problems that have a stateful behaviour by nature.</p>
</div>
<div class="paragraph">
<p>Scaling distributed systems with stateful scenario is both a complex but thrilling task for a software engineer.</p>
</div>
<div class="paragraph">
<p>In this post we are going to expose some highlights of the design included in Hawkular Alerting.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hawkular_alerting">Hawkular Alerting</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Hawkular Alerting is the component responsible for detecting behaviours within hawkular system by defining rules.
These rules can generate events or alerts that can also be used in additional rules to detect complex scenarios and to respond with customized actions.</p>
</div>
<div class="paragraph">
<p>This highlevel process is stateful by nature in the sense that rules might depend on the past and future data received.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_scaling_fault_tolerance_vs_distributed_computation">Scaling: fault tolerance vs distributed computation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A first (non trivial) question is what is meant by 'scaling' in our problem domain.
For example, 'scaling' in some traditional databases scenarios could mean to add more resources in a big backend machine, on the contrary scaling in a network means to have more nodes to distribute load and increase the computational power.
Also another preliminary point is that we add more nodes to increase the fault tolerance of our system, meaning that we add more nodes to replicate our load, but not necessary to increase the capacity of the system.
For example, some networks should be able to support more than one concurrent failure of the system.</p>
</div>
<div class="paragraph">
<p>For our specific Hawkular Alerting domain scaling means to have more computational capacity but also offering a minimal fault tolerance capacity.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_partitionmanager_interface">PartitionManager interface</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Hawkular Alerting implements its main logic in the engine service, the engine is responsible for managing the rules definitions and matching the data and events within the rules to update its internal state.
The engine is the main actor to use the scaling services and in this context the scaling/clustering services have been designed from an abstract interface API called PartitionManager.
Main benefit of this abstraction layer is that we can improve in the future the implementation of the distributed scenarios without bringing technical debt into the main logic of Hawkular Alerting.</p>
</div>
<div class="paragraph">
<p>The main strategy of the design is to partition and distribute the rules across all the nodes of the topology following a consistent hashing algorithm.
This means that when topology changes the PartitionManager minimizes the tasks needed to reconfigure the state.</p>
</div>
<div class="paragraph">
<p>So, at a high level, the PartitionManager interface is responsible for the following clustering services:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Notify when a new rule (called Trigger in Hawkular Alerting context) has been added, modified or removed in order to update the engine state.</p>
</li>
<li>
<p>Detect changes to the topology to re-calculate and re-distribute the triggers in a transparent way when a node is added/removed from the cluster.</p>
</li>
<li>
<p>Notify when a new data/event has been received in order to route it to the engine node responsible for its processing.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_some_implementation_details">Some implementation details</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The goal of a scaling design is efficiency, it should distribute the rules in a way that minimize the changes and cost of re-distribution when cluster changes.
In our PartitionManagerImpl we have used the hashing functions provided by the <strong>guava</strong> library to implement a shared topology as it is shown in the next example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">    /**
     * Distribute triggers on nodes using a consistent hashing strategy.
     * This strategy allows to scale and minimize changes and re-distribution when cluster changes.
     *
     * @param entries a list of entries to distribute
     * @param buckets a table of nodes
     * @return a map of entries distributed across nodes
     */
    public Map&lt;PartitionEntry, Integer&gt; calculatePartition(List&lt;PartitionEntry&gt; entries,
                                                           Map&lt;Integer, Integer&gt; buckets) {
        if (entries == null) {
            throw new IllegalArgumentException("entries must be not null");
        }
        if (buckets == null || buckets.isEmpty()) {
            throw new IllegalArgumentException("entries must be not null");
        }
        HashFunction md5 = Hashing.md5();
        int numBuckets = buckets.size();
        Map&lt;PartitionEntry, Integer&gt; newPartition = new HashMap&lt;&gt;();
        for (PartitionEntry entry : entries) {
            newPartition.put(entry, buckets.get(Hashing.consistentHash(md5.hashInt(entry.hashCode()), numBuckets)));
        }
        return newPartition;
    }
[source,java]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The backbone of the PartitionManagerImpl is based on <strong>Infinispan</strong> services and its eventing architecture.
Infinispan let us define small caches used to share minimal topology information about the rules distribution.
The infinispan eventing architecture let us add our own listeners implementations to provide a high level API that the Hawkular Alerting engine can consume.</p>
</div>
<div class="paragraph">
<p>Further details can be found under the following examples.</p>
</div>
<div class="paragraph">
<div class="title">Consistent hashing algorithm tests applied to topology</div>
<p><a href="https://github.com/hawkular/hawkular-alerts/blob/master/hawkular-alerts-engine/src/test/java/org/hawkular/alerts/engine/impl/BucketsTest.java" class="bare">https://github.com/hawkular/hawkular-alerts/blob/master/hawkular-alerts-engine/src/test/java/org/hawkular/alerts/engine/impl/BucketsTest.java</a></p>
</div>
<div class="paragraph">
<div class="title">Consistent hashing algorithm tests applied to rules distribution</div>
<p><a href="https://github.com/hawkular/hawkular-alerts/blob/master/hawkular-alerts-engine/src/test/java/org/hawkular/alerts/engine/impl/DistributionTest.java" class="bare">https://github.com/hawkular/hawkular-alerts/blob/master/hawkular-alerts-engine/src/test/java/org/hawkular/alerts/engine/impl/DistributionTest.java</a></p>
</div>
<div class="paragraph">
<div class="title">PartitionManager high level interface</div>
<p><a href="https://github.com/hawkular/hawkular-alerts/blob/master/hawkular-alerts-engine/src/main/java/org/hawkular/alerts/engine/service/PartitionManager.java" class="bare">https://github.com/hawkular/hawkular-alerts/blob/master/hawkular-alerts-engine/src/main/java/org/hawkular/alerts/engine/service/PartitionManager.java</a></p>
</div>
<div class="paragraph">
<div class="title">Implementation of PartitionManager interface</div>
<p><a href="https://github.com/hawkular/hawkular-alerts/blob/master/hawkular-alerts-engine/src/main/java/org/hawkular/alerts/engine/impl/PartitionManagerImpl.java" class="bare">https://github.com/hawkular/hawkular-alerts/blob/master/hawkular-alerts-engine/src/main/java/org/hawkular/alerts/engine/impl/PartitionManagerImpl.java</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion_and_future_work">Conclusion and future work</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Today we have a clustering profile in Hawkular Alerting project where we can test and run these distributed scenarios.
In our future work we will increase the coverage of distributed scenario and refine our design accordingly.</p>
</div>
<div class="paragraph">
<p>We hope this small intro could help to share the main decisions points to build our distributed design for Hawkular Alerting.</p>
</div>
<div class="paragraph">
<p>Comments and questions are welcome, here or in <a href="http://webchat.freenode.net/?channels=hawkular">#hawkular</a> room on freenode.</p>
</div>
</div>
</div></p>
            <br />
            <hr /><br />
            <br />
            <a href="blog/2016/06/27/hawkular-apm-0.9-released.html"><h1>Hawkular APM 0.9.0.Final Released</h1></a>
            <p>27 June 2016, by Gary Brown</p>
            <p><div class="paragraph">
<p>As mentioned in a blog post at the beginning of the month, the Hawkular BTM (Business Transaction Management) project has been renamed Hawkular APM (Application Performance Management), to reflect the wider scope of the project.</p>
</div>
<div class="paragraph">
<p>This is the first release under the new project name, and consequently there are a number of naming related changes (e.g. REST endpoints, Java package/class names, model, etc) that mean this release is <strong>not</strong> backward compatible with the previous release.</p>
</div>
<div class="paragraph">
<p>The details of the release can be found <a href="https://github.com/hawkular/hawkular-apm/releases/tag/0.9.0.Final">here</a>.</p>
</div>
<div class="paragraph">
<p>As part of this release, we have also moved the documentation for the project to <a href="https://hawkular.gitbooks.io/hawkular-apm-user-guide/content/">gitbook</a>.</p>
</div>
<div class="paragraph">
<p>If you have any questions regarding the change of name, or anything else related to the project, please <a href="http://www.hawkular.org/community/index.html">contact us</a>.</p>
</div></p>
            <br />
            <hr /><br />
            <br />
            <a href="blog/2016/06/14/hawkular-services-0.0.2.Final.html"><h1>Hawkular Services 0.0.2.Final</h1></a>
            <p>14 June 2016, by Juraci Paixão Kröhling</p>
            <p><div class="paragraph">
<p>Hawkular Services is a new base line distribution including only the basic Hawkular components, such as Alerts, Inventory and Metrics.
The version <a href="https://repository.jboss.org/nexus/content/groups/public/org/hawkular/services/hawkular-services-dist/0.0.2.Final/hawkular-services-dist-0.0.2.Final.zip">0.0.2.Final</a> has just been released and is ready to be tested and integrated with other projects.</p>
</div>
<div class="paragraph">
<p>Notable differences between the main Hawkular distribution and Hawkular Services are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Hawkular Services does not ship with a User Interface. Interaction with the backend is exclusively done via REST.</p>
</li>
<li>
<p>Authentication is accomplished via JAAS, configured directly via Wildfly. Please refer to the Wildfly documentation on how to accomplish scenarios like LDAP user database.</p>
</li>
<li>
<p>Due to the changes in the authentication, Keycloak is not part of the distribution, although it can still be used via JAAS. Please refer to the Keycloak documentation on how to protect deployments.</p>
</li>
<li>
<p>Due to the removal of Keycloak, multi tenancy is also simplified. The backend endpoints expect to receive a <code>Hawkular-Tenant</code>, so, multi tenancy is now handled on the consumer side.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information on the details of this new distribution as well as the background, see the blog post <a href="http://www.hawkular.org/blog/2016/04/28/new-packaging.html">New Hawkular packaging</a>. Note that
<code>hawkular-core-services</code> on that post is what we now know as <code>hawkular-services</code>.</p>
</div>
<div class="paragraph">
<p>Hawkular Services is released every week on Tuesdays.</p>
</div>
<div class="paragraph">
<p>To get started with Hawkular Services, <a href="https://repository.jboss.org/nexus/content/groups/public/org/hawkular/services/hawkular-services-dist/0.0.2.Final/hawkular-services-dist-0.0.2.Final.zip">download the latest release</a>, unzip it, add a user and set the Agent to use the credentials for the user just added.
It can be accomplished with the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code>export HAWKULAR_HOME="/path/to/hawkular-services"
export HAWKULAR_USERNAME="jdoe"
export HAWKULAR_PASSWORD="password"

cd "${HAWKULAR_HOME}"
"${HAWKULAR_HOME}/bin/add-user.sh" \
  -a \
  -u "${HAWKULAR_USERNAME}" \
  -p "${HAWKULAR_PASSWORD}" \
  -g read-write,read-only
"${HAWKULAR_HOME}/bin/standalone.sh" -Dhawkular.rest.user="${HAWKULAR_USERNAME}" -Dhawkular.rest.password="${HAWKULAR_PASSWORD}"</code></pre>
</div>
</div></p>
            <br />
            <hr /><br />
            <br />



    <div class="large-4 columns blog-post-listings">
        <h2>Older posts:</h2>
        <ul>
          <li>01 June 2016 - <a href="blog/2016/06/01/hawkular-btm-to-apm.html">Hawkular BTM component rename</a></li>
          <li>01 June 2016 - <a href="blog/2016/06/01/hawkular-metrics-0.16.0.Final-released.html">Hawkular Metrics 0.16.0 - Release</a></li>
          <li>26 May 2016 - <a href="blog/2016/05/26/hawkular-btm-booker-demo.html">Monitoring Microservices for Application Performance, Distributed Tracing and Business Transactions</a></li>
          <li>24 May 2016 - <a href="blog/2016/05/24/hawkular-btm-ticketmonster-demo.html">Obtaining business metrics without the need to instrument your application</a></li>
          <li>02 May 2016 - <a href="blog/2016/05/02/hawkular-metrics-0.15.0.Final-released.html">Hawkular Metrics 0.15.0 - Release</a></li>
          <li>28 April 2016 - <a href="blog/2016/04/28/new-packaging.html">New Hawkular packaging</a></li>
          <li>27 April 2016 - <a href="blog/2016/04/27/hawkular-inventory-0.15.0.Final-released.html">Hawkular Inventory 0.15.0.Final - Release</a></li>
          <li>22 April 2016 - <a href="blog/2016/04/22/collecting-metrics-from-prometheus-endpoints.html">Collecting Metrics from Prometheus Endpoints</a></li>
          <li>21 April 2016 - <a href="blog/2016/04/21/datamining-first-release.html">Hawkular Data Mining 0.1.0.Final Released</a></li>
          <li>19 April 2016 - <a href="blog/2016/04/19/jmxtrans-to-hawkular-metrics.html">Monitoring JVM applications with jmxtrans</a></li>
          <li>08 April 2016 - <a href="blog/2016/04/08/hawkular-manage-iq-sprint-demo.html">Hawkular in ManageIQ sprint demo(s)</a></li>
          <li>29 March 2016 - <a href="blog/2016/03/29/hawkular-metrics-0.14.0.Final-released.html">Hawkular Metrics 0.14.0 - Release</a></li>
          <li>21 March 2016 - <a href="blog/2016/03/20/qr-android.html">QR Code support for Android Client</a></li>
          <li>16 March 2016 - <a href="blog/2016/03/16/hawkular-metrics-roadmap.html">Hawkular Metrics - Roadmap</a></li>
          <li>15 March 2016 - <a href="blog/2016/03/15/hawkular-1.0.0.Alpha11-released.html">The eleventh milestone of Hawkular released</a></li>
          <li>02 March 2016 - <a href="blog/2016/03/02/hawkular-metrics-0.13.0.Final-released.html">Hawkular Metrics 0.13.0 - Release</a></li>
          <li>23 February 2016 - <a href="blog/2016/02/22/hawkular-manage-iq.html">Integration with ManageIQ</a></li>
          <li>02 February 2016 - <a href="blog/2016/02/02/hawkular-metrics-0.12.0.Final-released.html">Hawkular Metrics 0.12.0 - Release</a></li>
          <li>25 January 2016 - <a href="blog/2016/01/25/hawkular-btm-apm.html">Hawkular-BTM now includes Application Performance Management</a></li>
          <li>21 January 2016 - <a href="blog/2016/01/21/hawkular-1.0.0.Alpha9-released.html">The nineth milestone of Hawkular released</a></li>
          <li>21 January 2016 - <a href="blog/2016/01/21/hawkular-command-gateway-clients.html">Hawkular Command Gateway Clients</a></li>
          <li>20 January 2016 - <a href="blog/2016/01/20/hawkular-datamining-demo-hwk-alpha9.html">Hawkular Data Mining - Predictive Charts</a></li>
          <li>12 January 2016 - <a href="blog/2016/01/12/hawkular-metrics-0.11.0.Final-released.html">Hawkular Metrics 0.11.0 - Release</a></li>
          <li>05 January 2016 - <a href="blog/2016/01/05/we-are-hiring.html">We are hiring !</a></li>
          <li>16 December 2015 - <a href="blog/2015/12/16/hawkular-1.0.0.Alpha8-released.html">The eigth milestone of Hawkular released</a></li>
          <li>01 December 2015 - <a href="blog/2015/12/01/hawkular-btm-instrument-docker-image.html">BTM: Instrumenting an application running from a docker image</a></li>
          <li>30 November 2015 - <a href="blog/2015/11/30/hawkular-btm-0-6-0-released.html">Monitoring Business Transactions in JBoss Ticket Monster App (Part 2)</a></li>
          <li>19 November 2015 - <a href="blog/2015/11/19/hawkular-1.0.0.Alpha7-released.html">Yet another release of Hawkular, the seventh one !</a></li>
          <li>10 November 2015 - <a href="blog/2015/11/10/hawkular-btm-0-5-0-released.html">Monitoring Business Transactions in JBoss Ticket Monster App</a></li>
          <li>30 October 2015 - <a href="blog/2015/10/30/hawkular-metrics-0.8.0.Final-released.html">Hawkular Metrics 0.9.0 - Release</a></li>
          <li>30 October 2015 - <a href="blog/2015/11/30/hawkular-metrics-0.10.0.Final-released.html">Hawkular Metrics 0.10.0 - Release</a></li>
          <li>24 October 2015 - <a href="blog/2015/10/24/hawkular-datamining.html">Introduction to Hawkular Data Mining Module</a></li>
          <li>21 October 2015 - <a href="blog/2015/10/21/hawkular-1.0.0.Alpha6-released.html">The sixth milestone of Hawkular released</a></li>
          <li>12 October 2015 - <a href="blog/2015/10/12/hawkular-metrics-0.8.0.Final-released.html">Hawkular Metrics 0.8.0 - Release</a></li>
          <li>09 October 2015 - <a href="blog/2015/10/09/graph-db-performance.html">Titan Graph DB Performance Tips</a></li>
          <li>06 October 2015 - <a href="blog/2015/10/06/hawkular-btm-0-4-0-released.html">Hawkular-BTM 0.4.0 released</a></li>
          <li>05 October 2015 - <a href="blog/2015/10/05/hawkular-metrics-2k-commits.html">Hawkular Metrics - 2k Commits</a></li>
          <li>30 September 2015 - <a href="blog/2015/09/30/hawkular-metrics-0.7.0.Final-released.html">Hawkular Metrics 0.7.0 - Release</a></li>
          <li>23 September 2015 - <a href="blog/2015/09/23/hawkular-1.0.0.Alpha5-released.html">The fifth milestone of Hawkular released</a></li>
          <li>03 September 2015 - <a href="blog/2015/09/03/monitoring-rails-using-hawkular-metrics.html">Monitoring Rails App using Hawkular Metrics</a></li>
          <li>29 August 2015 - <a href="blog/2015/08/29/hawkular-metrics-0.6.0.Final-released.html">Hawkular Metrics 0.6.0 - Release</a></li>
          <li>27 August 2015 - <a href="blog/2015/08/27/hawkular-1.0.0.Alpha4-released.html">The fourth milestone of Hawkular released</a></li>
          <li>25 August 2015 - <a href="blog/2015/08/25/hawkular-alerts-autoresolve.html">Introduction to AutoResolve triggers</a></li>
          <li>19 August 2015 - <a href="blog/2015/08/19/hawkular-alerts-standalone.html">Using Hawkular Alerts as a standalone engine</a></li>
          <li>14 August 2015 - <a href="blog/2015/08/14/hawkular-btm-0.3.0-demo.html">Visualising Business Transaction Information using Hawkular BTM 0.3.0.Final with RTGov Integration</a></li>
          <li>30 July 2015 - <a href="blog/2015/07/30/hawkular-1.0.0.Alpha3-released.html">Hawkular, all good things make three!</a></li>
          <li>22 July 2015 - <a href="blog/2015/07/22/hawkular-btm-0.2.0-demo.html">Monitoring a Vert.x Application using Hawkular BTM 0.2.0.Final</a></li>
          <li>02 July 2015 - <a href="blog/2015/07/02/hawkular-1.0.0.Alpha2-released.html">Hawkular, the second release!</a></li>
          <li>01 July 2015 - <a href="blog/2015/07/01/hawkular-btm-0-1-0-released.html">Hawkular-BTM 0.1.0 released</a></li>
          <li>01 July 2015 - <a href="blog/2015/07/01/hawkular-btm-0.1.0-demo.html">Monitoring a SwitchYard Application using Hawkular BTM 0.1.0.Final</a></li>
          <li>22 June 2015 - <a href="blog/2015/06/23/hawkular-metrics-0-4-0-released.html">Hawkular Metrics 0.4.0 - Release</a></li>
          <li>17 June 2015 - <a href="blog/2015/06/17/marsjug-and-rivieradev-retrospective.html">MarsJUG and RivieraDEV retrospective</a></li>
          <li>04 June 2015 - <a href="blog/2015/06/04/hawkular-1.0.0.Alpha1-released.html">Hawkular, the first release!</a></li>
          <li>01 June 2015 - <a href="blog/2015/06/01/hawkular-metrics-0-3-4-released.html">Hawkular Metrics 0.3.4 - Release</a></li>
          <li>30 April 2015 - <a href="blog/2015/04/30/introducing-btm.html">Introducing the latest Hawkular component: Business Transaction Management</a></li>
          <li>29 April 2015 - <a href="blog/2015/04/29/hello-to-gsoc-students.html">Hello GSoC Students</a></li>
          <li>17 April 2015 - <a href="blog/2015/04/14/intro-to-hawkular.html">Intro to Hawkular, a middleware open-source management solution</a></li>
          <li>14 April 2015 - <a href="blog/2015/04/14/hawkular-monitor-agent-intro.html">Hawkular-Monitor Agent</a></li>
          <li>09 April 2015 - <a href="blog/2015/04/09/alert-notifiers-for-mobile-devices.html">Alert notifiers for mobile devices</a></li>
          <li>08 April 2015 - <a href="blog/2015/2015-04-08-1.html">Testing collectd integration</a></li>
          <li>07 April 2015 - <a href="blog/2015/2015-04-07-1.html">Hawkular Metrics 0.3.1 - Release</a></li>
          <li>01 April 2015 - <a href="blog/2015/2015-04-01-1.html">Hawkular Discontinued</a></li>
          <li>30 March 2015 - <a href="blog/2015/2015-03-30-1.html">Dockerized Hawkular builds available</a></li>
          <li>24 February 2015 - <a href="blog/2015/2015-02-24-1.html">The Kettle starts boiling</a></li>
          <li>16 February 2015 - <a href="blog/2015/2015-02-16-1.html">Hawkular Metrics 0.2.7 - Release</a></li>
        <br/><br/>
    </div>

    <a href=feed.xml><i class="fa fa-rss"></i> RSS Feed</a>
</div>


		</div>
		<div id="push"></div>
    </div>

    <section class="redhat clearfix">
      <div class="container">
        <p class="pull-left">
          <a href="http://www.redhat.com/">
            <img alt="redhatlogo-white" src="/img/redhatlogo-white.png" width="130">
          </a>
        </p>
        <p class="muted credit pull-right">&copy; 2015 | Hawkular is released under <a href="/license.html">Apache License v2.0</a></p>
    <p id="forkongithubp"><span id="forkongithub">
      <a href="https://github.com/hawkular" class="bg-grey">
        Fork me on GitHub
      </a>
    </span></p>
      </div>
    </section>

    <!-- javascript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- js -->
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <script src="js/jbossorg-tabzilla.js"></script>
    <script src="js/behavior.js"></script>
    <script src="js/prettify.js"></script>
    <script src="js//ekko-lightbox.min.js"></script>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'hawkular';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-61728352-1', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>
