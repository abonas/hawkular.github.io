<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Hawkular</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="generator" content="JBake">

    <!-- css -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/asciidoctor.css" rel="stylesheet">
    <link href="css/base.css" rel="stylesheet">
    <link href="css/tabzilla.css" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">
    <link href="css/prettify.css" rel="stylesheet">
    <link href="css/ekko-lightbox.min.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
    <script src="js/moment.min.js"></script>
    <script src="js/jquery-1.11.2.min.js"></script>

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="alternate" href="feed.xml" title="Hawkular Blog - RSS" type="application/rss+xml">

  </head>
  <body onload="prettyPrint()" data-spy="scroll" data-offset="80" data-target="#toc">
    <div id="wrap">
      <div class="dropup">
        <a class="tabnav-closed" href="#" id="tab">Red Hat</a>
        <script>
            window.addEventListener('load', function() {
                 renderTabzilla("Hawkular", "https://hawkular.github.io", true );
            }, false);
        </script>
      </div>

    	<!-- Fixed navbar -->
        <nav class="navbar navbar-fixed-top" role="navigation">
          <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button class="navbar-toggle collapsed" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="index.html">Home</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
              <ul class="nav navbar-nav">
                <li><a href="index.html">Hawkular</a></li>
                <li><a href="docs/overview.html">Overview</a></li>
                <li><a href="docs/user/quick-start.html">Quick Start</a></li>
                <li class=""><a href="downloads.html">Downloads</a></li>
                <li class="dropdown"><a aria-expanded="false" class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">
                  Documentation
                  <span class="caret"></span>
                </a>
                <ul class="dropdown-menu" role="menu">
                  <li>
                    <a href="docs/user/user-guide.html">User Guide</a>
                  </li>
                  <li>
                    <a href="docs/user/installation-guide.html">Installation Guide</a>
                  </li>
                  <!--li>
                    <a href="docs/dev/terms.html">Used Terms</a>
                  </li-->
                  <li class="menu-item dropdown dropdown-submenu">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">REST API</a>
                    <ul class="dropdown-menu">
                      <li class="menu-item ">
                        <a href="docs/rest/rest-alerts.html">Alerts</a>
                      </li>
                      <li class="menu-item ">
                        <a href="docs/rest/rest-btm.html">Business Transaction Management</a>
                      </li>
                      <li class="menu-item ">
                        <a href="docs/rest/rest-inventory.html">Inventory</a>
                      </li>
                      <li class="menu-item ">
                        <a href="docs/rest/rest-metrics.html">Metrics</a>
                      </li>
                    </ul>
                  </li>
                  <li class="menu-item dropdown dropdown-submenu">
                    <a href="javascript:;" onclick="return false;" class="dropdown-toggle" data-toggle="dropdown">Sub-projects</a>
                    <ul class="dropdown-menu">
                      <li class="menu-item ">
                        <a href="docs/components/alerts/index.html">Alerts</a>
                      </li>
                      <li class="menu-item ">
                        <a href="docs/components/btm/index.html">Business Transaction Management</a>
                      </li>
                      <li class="menu-item ">
                        <a href="docs/components/inventory/index.html">Inventory</a>
                      </li>
                      <li class="menu-item ">
                        <a href="docs/components/metrics/index.html">Metrics</a>
                      </li>
                    </ul>
                  </li>
                </ul>
                <li class="dropdown"><a aria-expanded="false" class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">
                  Community
                  <span class="caret"></span>
                </a>
                <ul class="dropdown-menu" role="menu">
                  <li>
                    <a href="community/index.html">Home</a>
                  </li>
                  <li>
                    <a href="community/join.html">Join</a>
                  </li>
                  <li>
                    <a href="license.html">License</a>
                  </li>
                  <li>
                    <a href="docs/dev/development.html">Developer Guide</a>
                  </li>
                  <li>
                    <a href="https://travis-ci.org/hawkular">CI Builds</a>
                  </li>
                </ul></li>
                <li class=""><a href="blog.html">Blog</a></li>
              </ul>
            </div>
          </div>
        </nav>


<section class="main-banner blog-mainbanner">
    <div class="container">
        <h1>Hawkular Blog</h1>
    </div>
</section>


<div class="blog-container">
            <a href="blog/2016/01/12/hawkular-metrics-0.11.0.Final-released.html"><h1>Hawkular Metrics 0.11.0 - Release</h1></a>
            <p>12 January 2016, by Stefan Negrea</p>
            <p><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>I am happy to announce release 0.11.0 of Hawkular Metrics. This is a large release anchored by query API enhancements, large under-the-cover refactoring of the metric models, and support for deploying the project on Wildfly 10.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_major_changes">Major Changes</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Query API Updates</strong></p>
<div class="ulist">
<ul>
<li>
<p>Limit and Sort Order for raw data queries (<a href="https://issues.jboss.org/browse/HWKMETRICS-334">HWKMETRICS-334</a>, <a href="https://issues.jboss.org/browse/HWKMETRICS-62">HWKMETRICS-62</a>, <a href="https://issues.jboss.org/browse/HWKMETRICS-51">HWKMETRICS-51</a>)</p>
<div class="ulist">
<ul>
<li>
<p><code>limit</code> and <code>order</code> parameters are now available for raw data queries on all metric types</p>
</li>
<li>
<p><code>limit</code> - integer representing the maximum number of raw data points to be returned</p>
</li>
<li>
<p><code>order</code> - either <code>ASC</code> or <code>DESC</code> based on the timestamp of the data point</p>
</li>
<li>
<p>if both are specified than limit is applied from the start of the sorted list</p>
</li>
<li>
<p>for defaults and additional details please visit - <a href="https://github.com/hawkular/hawkular-metrics/blob/release/0.11.0/api/metrics-api-jaxrs/src/main/rest-doc/base.adoc">Hawkular Metrics - Rest Documentation</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Ability to query all metric raw or aggregate metric data (<a href="https://issues.jboss.org/browse/HWKMETRICS-331">HWKMETRICS-331</a>)</p>
<div class="ulist">
<ul>
<li>
<p><code>fromEarliest</code> query parameter was added to allow querying for all available data for a metric</p>
</li>
<li>
<p>this allows querying all data without specifying start and end</p>
</li>
<li>
<p>data retention for the metric is taken account, so the max time span is from <code>now</code> to <code>now - data retention</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Fixed the url for querying rate data across multiple metrics (<a href="https://issues.jboss.org/browse/HWKMETRICS-332">HWKMETRICS-332</a>)</p>
</li>
<li>
<p>Filtering metrics by id (<a href="https://issues.jboss.org/browse/HWKMETRICS-234">HWKMETRICS-234</a>)</p>
<div class="ulist">
<ul>
<li>
<p>with tag filtering enabled, it is now possible add id filtering via <code>id</code> parameter</p>
</li>
<li>
<p><code>id</code> parameter supports regex</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Internal Updates</strong></p>
<div class="ulist">
<ul>
<li>
<p>Model refactoring  (<a href="https://issues.jboss.org/browse/HWKMETRICS-326">HWKMETRICS-326</a>, <a href="https://issues.jboss.org/browse/HWKMETRICS-323">HWKMETRICS-323</a>)</p>
<div class="ulist">
<ul>
<li>
<p>this was a large effort to consolidate the internal domain model without changing any of the user APIs</p>
</li>
<li>
<p>this change will help the documentation efforts for future releases as well as a consistent data structure for the REST APIs</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Hawkular Integration</strong></p>
<div class="ulist">
<ul>
<li>
<p>The integration with Hawkular has now been updated to use asynchronous messages (<a href="https://issues.jboss.org/browse/HWKMETRICS-337">HWKMETRICS-337</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Wildfly 10 - Deploying &amp; Running</strong></p>
<div class="ulist">
<ul>
<li>
<p>Deploying and running the project on Wildfly 10  is now fully supported</p>
</li>
<li>
<p><strong>Support for Wildfly 9 is deprecated and will be completely dropped in the next release</strong></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_release_links">Release links</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Github Release:</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/hawkular/hawkular-metrics/releases/tag/0.11.0" class="bare">https://github.com/hawkular/hawkular-metrics/releases/tag/0.11.0</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>JBoss Nexus Maven artifacts:</p>
<div class="ulist">
<ul>
<li>
<p><a href="http://origin-repository.jboss.org/nexus/content/repositories/public/org/hawkular/metrics/" class="bare">http://origin-repository.jboss.org/nexus/content/repositories/public/org/hawkular/metrics/</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Jira release tracker:</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.jboss.org/browse/HWKMETRICS/fixforversion/12328918" class="bare">https://issues.jboss.org/browse/HWKMETRICS/fixforversion/12328918</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hawkular_metrics_clients">Hawkular Metrics Clients</h2>
<div class="sectionbody">
<div class="paragraph">
<p>One of Hawkular Metrics' objectives is to <strong>be easy to integrate with</strong>; providing language specific clients is an important component for fulfilling this objective. Here is the current list of official clients:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ruby: <a href="https://github.com/hawkular/hawkular-client-ruby" class="bare">https://github.com/hawkular/hawkular-client-ruby</a></p>
</li>
<li>
<p>Python: <a href="https://github.com/hawkular/hawkular-client-python" class="bare">https://github.com/hawkular/hawkular-client-python</a></p>
</li>
<li>
<p>Go: <a href="https://github.com/hawkular/hawkular-client-go" class="bare">https://github.com/hawkular/hawkular-client-go</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_thanks">Thanks</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A big "Thank  you" goes to John Sanda, Thomas Segismont, Mike Thompson, Matt Wringe, Michael Burman, Libor Zoubek, and Heiko Rupp for their project  contributions.</p>
</div>
</div>
</div></p>
            <br />
            <hr /><br />
            <br />
            <a href="blog/2016/01/05/we-are-hiring.html"><h1>We are hiring !</h1></a>
            <p>05 January 2016, by Thomas Heute</p>
            <p><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Red Hat is hiring a Java sustaining engineer</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_jboss_operations_network_jon_rhq_and_hawkular">JBoss Operations Network (JON), RHQ and Hawkular</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://www.redhat.com/en/technologies/jboss-middleware/operations-network">JBoss Operations Network</a> is the product that is fully supported by Red Hat, it is currently based on the <a href="rhq-project.org">RHQ project</a>. The RHQ project is still being maintained and enhanced while developing <a href="http://www.hawkular.org">Hawkular</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_who_are_we_looking_for">Who are we looking for ?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We are looking for a talented Java developer, preferably with Java EE experience willing to help us on RHQ/JBoss Operations Network. You will join the sustaining engineering team and when time allows help on Hawkular as well.</p>
</div>
<div class="paragraph">
<p>You need to be in a country where <a href="https://www.redhat.com/en/about/office-locations">Red Hat has a legal entity</a> but preferably Czech Republic, Poland, India, Mexico&#8230;&#8203;</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_do_we_offer">What do we offer ?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We offer a great place to work, Red Hat is listed as one of the <a href="https://www.glassdoor.com/Best-Places-to-Work-LST_KQ0,19.htm">best place to work</a>.</p>
</div>
<div class="paragraph">
<p>Sustaining engineers get to learn a lot and fast, you will be challenged on many areas of the project, from Cassandra storage to Google Web Toolkit with the help of very talented engineers who will help you grow as a developer. We&#8217;ll spread the work with the rest of the team depending on what you enjoy doing, what you want to do/learn and things that must be done.</p>
</div>
<div class="paragraph">
<p>You will be able to work remotely from home, partially or fully.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_apply">How to apply ?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Please <a href="http://jobs.redhat.com/jobs/descriptions/middleware-software-engineer-management-and-monitoring-brno-jihomoravsky-kraj-czech-republic-job-1-5929970">apply here</a>, you can also contact me directly via direct message <a href="https://twitter.com/theute">through Twitter</a> or find me (theute) on IRC Freenode servers.</p>
</div>
<div class="paragraph">
<p>Best thing you can do is also to create Pull Requests on either of <a href="https://github.com/hawkular/hawkular">Hawkular</a> or <a href="https://github.com/rhq-project/rhq">RHQ</a> project, this would beat any other reference, if you are looking for ideas, feel free to join #hawkular or #rhq on the IRC Freenode servers.</p>
</div>
<div class="paragraph">
<p>I&#8217;m looking forward to grow the team and deliver more, faster, better, happier, stronger together.</p>
</div>
</div>
</div></p>
            <br />
            <hr /><br />
            <br />
            <a href="blog/2015/12/16/hawkular-1.0.0.Alpha8-released.html"><h1>The eigth milestone of Hawkular released</h1></a>
            <p>16 December 2015, by Heiko W.Rupp</p>
            <p><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Hawkular, the monitoring platform, is happy to announce milestone release 1.0.0.Alpha8.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dealing_with_keycloak">Dealing with Keycloak</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Hawkular uses Keycloak
<a href="http://keycloak.jboss.org">Keycloak</a>
as its Single Sign On and Identity Management System.</p>
</div>
<div class="paragraph">
<p>In the downloads, Keycloak is/as always running embedded and expected the Hawkular
server to run on localhost - if what was not the case the user had to edit two
files before being able to bind the server on a different (public) IP or even use
an external Keycloak server.</p>
</div>
<div class="paragraph">
<p>With Hawkular 1.0.0.Alpha 8 it is now possible to pass a command line option on
startup to point to the Keycloak server:</p>
</div>
<div class="openblock">
<div class="content">
<div class="literalblock">
<div class="content">
<pre>bin/standalone.sh -Dkeycloak.server.url=http://&lt;kc-server&gt;:&lt;kc-port&gt;/auth</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tokens">Tokens</h2>
<div class="sectionbody">
<div class="paragraph">
<p>So far when doing REST calls from your client, via <code>curl</code> or also when using the
 agent, it was required to pass username and password, which was not optimal.</p>
</div>
<div class="paragraph">
<p>We now started supporting the use of token + secret. For this purpose there is a
new UI part in the user menu</p>
</div>
<div id="img-token-screen" class="imageblock">
<div class="content">
<img src="/img/blog/2015/a8_token_screen.png" alt="Token Screen">
</div>
<div class="title">Figure 1. Screen to create and list tokens</div>
</div>
<div class="paragraph">
<p>When you have such a token, you will be then able to access URLs via</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>curl -H 'Accept: application/json' -i -u b3063b1f-640b-4853-81df-47257c01e63e:94edc711ef80c592cb417bfffd9bc496 <a href="http://snert:8080/hawkular/accounts/personas/current" class="bare">http://snert:8080/hawkular/accounts/personas/current</a></p>
</div>
</div>
</div>
<div class="paragraph">
<p>instead of</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>curl -H 'Accept: application/json' -i -u jdoe:password <a href="http://snert:8080/hawkular/accounts/personas/current" class="bare">http://snert:8080/hawkular/accounts/personas/current</a></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Please note that this does not yet work for all subsystems.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_server_overview_page">Server Overview page</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When you go to an indivdual application server you will now see a brand new
overview page</p>
</div>
<div id="img-server-overview" class="imageblock">
<div class="content">
<img src="/img/blog/2015/a8_server_overview.png" alt="Server Overview">
</div>
<div class="title">Figure 2. Server overview</div>
</div>
<div class="paragraph">
<p>This page is now also the default when you select an application server from the list.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_url_list">URL List</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The URL list page has been revamped to show individual servers in small tiles that
include the state and also a sparkline diagram of the response time.</p>
</div>
<div id="img-server-overview" class="imageblock">
<div class="content">
<img src="/img/blog/2015/a8_url_list.png" alt="URL List">
</div>
<div class="title">Figure 3. Server overview</div>
</div>
<div class="paragraph">
<p>As you can see, it is now possible to filter the tiles shown by name
and also state.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_release_notes">Release notes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Full list of Jira issues fixed in this release:
<a href="/releasenotes/1.0.0.Alpha8.html">Release Notes - Hawkular - Version 1.0.0.Alpha8</a></p>
</div>
<div class="sect2">
<h3 id="_notes_for_windows_users">Notes for Windows users</h3>
<div class="paragraph">
<p>Windows:
To be able to perform deployments on Windows the user must hand-edit <code>standalone.xml</code> and replace:</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>blobTransferPolicy.uploadUrl=file:${org.hawkular.data.dir:${jboss.server.data.dir}}</p>
</div>
</div>
</div>
<div class="paragraph">
<p>with</p>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>blobTransferPolicy.uploadUrl=file:///${org.hawkular.data.dir:${jboss.server.data.dir}}</p>
</div>
</div>
</div>
<div class="paragraph">
<p>To run successfully you must start hawkular like:</p>
</div>
<div class="openblock">
<div class="content">
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>standalone.bat -Dorg.hawkular.data.dir=&lt;HawkulaInstallDirUsingFORWARDSlashes&gt;/standalone/data</p>
</div>
</blockquote>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_watch_the_demo_online">Watch the demo online</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Visit the recording here:</p>
</div>
<div class="videoblock">
<div class="content">
<iframe width="600" height="400" src="//www.youtube.com/embed/2a5HAnt7Dik?rel=0" frameborder="0" allowfullscreen></iframe>
</div>
</div>
<div class="paragraph">
<p>We will announce the next milestone demo on our
<a href="https://plus.google.com/b/100667078659222571663/+HawkularOrgProject">Google Plus page</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_downloads">Downloads</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can download the release here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://download.jboss.org/hawkular/hawkular/1.0.0.Alpha8/hawkular-dist-1.0.0.Alpha8.zip">Hawkular 1.0.0.Alpha8 (zip)</a></p>
</li>
<li>
<p><a href="http://download.jboss.org/hawkular/hawkular/1.0.0.Alpha8/hawkular-dist-1.0.0.Alpha8.tar.gz">Hawkular 1.0.0.Alpha8 (tar.gz)</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Agent-installer:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://download.jboss.org/hawkular/wildfly-monitor/0.11.1.Final/hawkular-wildfly-monitor-installer-0.11.2.Final-standalone.jar">Agent installer 0.11.2 (zip)</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_s_next">What&#8217;s next?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The next Alpha is planned for January 20th, and we are planning to work on the following features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Stabilization work</p>
</li>
<li>
<p>More work on labels</p>
</li>
<li>
<p>Allow to use tokens all over the place</p>
</li>
<li>
<p>Move Hawkular onto WildFly 10 (if available )</p>
</li>
</ul>
</div>
</div>
</div></p>
            <br />
            <hr /><br />
            <br />
            <a href="blog/2015/12/01/hawkular-btm-instrument-docker-image.html"><h1>BTM: Instrumenting an application running from a docker image</h1></a>
            <p>01 December 2015, by Gary Brown</p>
            <p><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This post outlines how to instrument a docker image, to capture business transaction management data and report it to a business transaction management server running in a remote location.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_obtaining_an_example_docker_image">Obtaining an example docker image</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To demonstrate the approach, we will use an example docker image associated with a Javascript application running on Vert.x. Either download the complete example distribution from <a href="https://github.com/vert-x3/vertx-examples/releases/tag/3.0.0">here</a>, and navigate to the <em>docker-examples/vertx-docker-javascript</em> folder, or create a folder in your preferred location with the following two files:</p>
</div>
<div class="listingblock">
<div class="title">Dockerfile</div>
<div class="content">
<pre>###
# vert.x docker example using a JavaScript verticle
# To build:
#  docker build -t sample/vertx-javascript .
# To run:
#  docker run -t -i -p 8080:8080 sample/vertx-javascript
###

# Extend vert.x image
FROM vertx/vertx3

# Set the name of the verticle to deploy
ENV VERTICLE_NAME hello-verticle.js

# Set the location of the verticles
ENV VERTICLE_HOME /usr/verticles

EXPOSE 8080

# Copy your verticle to the container
COPY $VERTICLE_NAME $VERTICLE_HOME/

# Launch the verticle
WORKDIR $VERTICLE_HOME
ENTRYPOINT ["sh", "-c"]
CMD ["vertx run $VERTICLE_NAME -cp $VERTICLE_HOME/*"]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">hello-verticle.js</div>
<div class="content">
<pre>vertx.createHttpServer().requestHandler(function (request) {
    request.response().end("Wild world");
}).listen(8080);</pre>
</div>
</div>
<div class="paragraph">
<p>Next, we should try out this example application so that we know how it works without any instrumentation. (Note: this assumes that you already have docker installed on your system, and the docker daemon is running. If not please see <a href="http://www.docker.com" class="bare">http://www.docker.com</a>).</p>
</div>
<div class="paragraph">
<p>As described in the <em>Dockerfile</em> comment block, first run the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>docker build -t sample/vertx-javascript .</pre>
</div>
</div>
<div class="paragraph">
<p>and once you have the <em>Successfully built &#8230;&#8203;</em> message, run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>docker run -t -i -p 8080:8080 sample/vertx-javascript</pre>
</div>
</div>
<div class="paragraph">
<p>and once you have seen the <em>Succeeded in deploying verticle</em> message, go to a browser and enter the URL <a href="http://localhost:8080" class="bare">http://localhost:8080</a>. This should display the text <strong>Wild world</strong>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_an_instrumented_version_of_the_docker_image">Creating an instrumented version of the docker image</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When instrumenting a Java application, whether a standalone Java app, or components running within an application server, we only need to set the <em>JAVA_OPTS</em> environment variable to reference a <strong>javaagent</strong> jar, and define some properties for contacting the BTM server (i.e. URL and username/password).</p>
</div>
<div class="paragraph">
<p>When running an application within a docker image, although it is possible to specify environment variables (such as <em>JAVA_OPTS</em>), it is not possible to reference files (i.e. jars) outside of the image. Therefore to be able to instrument an image, we need to create a separate image based on the one we wish to instrument, with the additional steps required to include the <strong>javaagent</strong> and required properties.</p>
</div>
<div class="paragraph">
<p>To achieve this, create a separate folder from the image being instrumented, and define the following file:</p>
</div>
<div class="listingblock">
<div class="title">Dockerfile</div>
<div class="content">
<pre>###
# vert.x docker example using a JavaScript verticle, instrumented for BTM
# To build:
#  docker build -t sample/vertx-javascript-with-btm .
# To run:
#  docker run -t -i --net=host sample/vertx-javascript-with-btm
###

# Extend vert.x javascript sample image
FROM sample/vertx-javascript

ENV BTM_URI http://localhost:8180/hawkular/btm
ENV BTM_USERNAME jdoe
ENV BTM_PASSWORD password

ENV BTM_VERSION=0.6.0.Final
ENV BTM_AGENT=/libs/hawkular-btm-agent-rest-$BTM_VERSION.jar

ADD https://repository.jboss.org/nexus/service/local/artifact/maven/redirect?r=releases&amp;g=org.hawkular.btm&amp;a=hawkular-btm-agent-rest&amp;v=$BTM_VERSION&amp;e=jar $BTM_AGENT

ENV JAVA_OPTS -javaagent:$BTM_AGENT=boot:$BTM_AGENT -Dhawkular-btm.base-uri=\$BTM_URI -Dhawkular-btm.config.refresh=10 -Dhawkular-btm.username=\$BTM_USERNAME -Dhawkular-btm.password=\$BTM_PASSWORD</pre>
</div>
</div>
<div class="paragraph">
<p>Most of the dockerfile is defining environment variable defaults, but the most important steps are the final two, adding the Hawkular BTM agent to the image and then defining the <em>JAVA_OPTS</em> variable to reference it (along with the required properties).</p>
</div>
<div class="paragraph">
<p>Next we need to build the new instrumented image:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>docker build -t sample/vertx-javascript-with-btm .</pre>
</div>
</div>
<div class="paragraph">
<p>Once this has been successfully built, we need to start up a BTM server. This can be done by downloading the most recent distribution from <a href="https://github.com/hawkular/hawkular-btm/releases" class="bare">https://github.com/hawkular/hawkular-btm/releases</a>, unpacking the distribution and running the following command from the top level folder:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>bin/standalone.sh -Djboss.socket.binding.port-offset=100</pre>
</div>
</div>
<div class="paragraph">
<p>This starts the BTM server on port 8180, so it does not conflict with the port being used by the instrumented application.</p>
</div>
<div class="paragraph">
<p>Final step is to run the instrumented example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>docker run -t -i --net=host sample/vertx-javascript-with-btm</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Instead of defining port mapping, we have used the <em>--net=host</em> option, to enable the instrumented application to call out to the BTM server running on the host. Also, the default environment variables can be overridden by using the <em>--env</em> option (e.g. <em>--env BTM_URI=http://&#8230;&#8203;&#8230;&#8203;</em>).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Finally, once the <em>Succeeded in deploying verticle</em> message is displayed, we return to a browser. If we enter a URL <a href="http://localhost:8080/test/app" class="bare">http://localhost:8080/test/app</a> and press return, we should see the same message as before (<strong>Wild world</strong>).</p>
</div>
<div class="paragraph">
<p>If we now go to the BTM console (<a href="http://localhost:8180/hawkular-ui/btm" class="bare">http://localhost:8180/hawkular-ui/btm</a> logging in as <em>jdoe</em> with password <em>password</em>), you should see the entered URL in the <em>Candidates</em> page. This shows that the BTM server has been informed about the business transaction performed on that URI.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_summary">Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This post has shown how any Java based application, defined as a docker image, can be instrumented by defining a derived image that adds the <strong>javaagent</strong> jar and sets the required properties for communicating with the BTM server.</p>
</div>
</div>
</div></p>
            <br />
            <hr /><br />
            <br />
            <a href="blog/2015/11/30/hawkular-btm-0-6-0-released.html"><h1>Monitoring Business Transactions in JBoss Ticket Monster App (Part 2)</h1></a>
            <p>30 November 2015, by Gary Brown</p>
            <p><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>I am happy to announce release 0.6.0.Final of the Hawkular Business Transaction Management project.</p>
</div>
<div class="paragraph">
<p>The main focus for this release has been creating a UI to display statistical information about the configured business transactions. A demo can be seen <a href="https://vimeo.com/147347020">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_highlights_of_this_release">Highlights of this release</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Statistics page per business transaction configuration showing</p>
<div class="ulist">
<ul>
<li>
<p>a histogram with min, avg, max details, and transaction/fault counts overlaid as a bar chart</p>
</li>
<li>
<p>fault pie chart</p>
</li>
<li>
<p>property pie chart with combobox to select the property of interest</p>
</li>
</ul>
</div>
</li>
<li>
<p>Selecting pie chart segment, for fault or property value, can add item to filter, focusing the information being displayed</p>
</li>
<li>
<p>Validation capability added to the business transaction configuration UI page. If validation errors are detected in a business transaction configuration, it will be held in a staging area on the server, and is not published out to any active collector agents until fixed.</p>
</li>
<li>
<p>URI candidate list compression - where many URIs are related to a template with path parameter, the parameter will be inferred, and only the template URI shown in the list</p>
</li>
<li>
<p>Processing faults, captured in the collector, will now be associated with the business transaction fragment so that they can be handled with an understanding of the context in which they occurred</p>
</li>
<li>
<p>Where available, the 'principal' will now be recorded against the business transaction (fragment). Servlet instrumentation rules have been updated to store this information on the business transaction, rather than node detail level.</p>
</li>
<li>
<p>SQL prepared statement description now excludes any representation of binary data, to make the description more readable.</p>
</li>
<li>
<p>JAVA_OPT parameters required to configure the collector (java) agent have now been simplified, moving the byteman properties into BTM specific agent</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
There are some backward incompatible changes to the REST service APIs to hopefully make the APIs simpler and more consistent.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Download the release from <a href="https://github.com/hawkular/hawkular-btm/releases/tag/0.6.0.Final">here</a>.</p>
</div>
<div class="paragraph">
<p>Documentation on how to use Hawkular BTM can be found <a href="http://www.hawkular.org/docs/components/btm/index.html">here</a>.</p>
</div>
<div class="paragraph">
<p>The detailed release notes can be found <a href="https://issues.jboss.org/secure/ReleaseNote.jspa?projectId=12316120&amp;version=12328755">here</a>.</p>
</div>
<div class="paragraph">
<p>Feature requests and bugs should be reported in our project <a href="https://issues.jboss.org/browse/HWKBTM">jira</a>.</p>
</div>
</div>
</div></p>
            <br />
            <hr /><br />
            <br />



    <div class="large-4 columns blog-post-listings">
        <h2>Older posts:</h2>
        <ul>
          <li>19 November 2015 - <a href="blog/2015/11/19/hawkular-1.0.0.Alpha7-released.html">Yet another release of Hawkular, the seventh one !</a></li>
          <li>10 November 2015 - <a href="blog/2015/11/10/hawkular-btm-0-5-0-released.html">Monitoring Business Transactions in JBoss Ticket Monster App</a></li>
          <li>30 October 2015 - <a href="blog/2015/10/30/hawkular-metrics-0.8.0.Final-released.html">Hawkular Metrics 0.9.0 - Release</a></li>
          <li>30 October 2015 - <a href="blog/2015/11/30/hawkular-metrics-0.10.0.Final-released.html">Hawkular Metrics 0.10.0 - Release</a></li>
          <li>24 October 2015 - <a href="blog/2015/10/24/hawkular-datamining.html">Introduction to Hawkular Data Mining Module</a></li>
          <li>21 October 2015 - <a href="blog/2015/10/21/hawkular-1.0.0.Alpha6-released.html">The sixth milestone of Hawkular released</a></li>
          <li>12 October 2015 - <a href="blog/2015/10/12/hawkular-metrics-0.8.0.Final-released.html">Hawkular Metrics 0.8.0 - Release</a></li>
          <li>09 October 2015 - <a href="blog/2015/10/09/graph-db-performance.html">Titan Graph DB Performance Tips</a></li>
          <li>06 October 2015 - <a href="blog/2015/10/06/hawkular-btm-0-4-0-released.html">Hawkular-BTM 0.4.0 released</a></li>
          <li>05 October 2015 - <a href="blog/2015/10/05/hawkular-metrics-2k-commits.html">Hawkular Metrics - 2k Commits</a></li>
          <li>30 September 2015 - <a href="blog/2015/09/30/hawkular-metrics-0.7.0.Final-released.html">Hawkular Metrics 0.7.0 - Release</a></li>
          <li>23 September 2015 - <a href="blog/2015/09/23/hawkular-1.0.0.Alpha5-released.html">The fifth milestone of Hawkular released</a></li>
          <li>03 September 2015 - <a href="blog/2015/09/03/monitoring-rails-using-hawkular-metrics.html">Monitoring Rails App using Hawkular Metrics</a></li>
          <li>29 August 2015 - <a href="blog/2015/08/29/hawkular-metrics-0.6.0.Final-released.html">Hawkular Metrics 0.6.0 - Release</a></li>
          <li>27 August 2015 - <a href="blog/2015/08/27/hawkular-1.0.0.Alpha4-released.html">The fourth milestone of Hawkular released</a></li>
          <li>25 August 2015 - <a href="blog/2015/08/25/hawkular-alerts-autoresolve.html">Introduction to AutoResolve triggers</a></li>
          <li>19 August 2015 - <a href="blog/2015/08/19/hawkular-alerts-standalone.html">Using Hawkular Alerts as a standalone engine</a></li>
          <li>14 August 2015 - <a href="blog/2015/08/14/hawkular-btm-0.3.0-demo.html">Visualising Business Transaction Information using Hawkular BTM 0.3.0.Final with RTGov Integration</a></li>
          <li>30 July 2015 - <a href="blog/2015/07/30/hawkular-1.0.0.Alpha3-released.html">Hawkular, all good things make three!</a></li>
          <li>22 July 2015 - <a href="blog/2015/07/22/hawkular-btm-0.2.0-demo.html">Monitoring a Vert.x Application using Hawkular BTM 0.2.0.Final</a></li>
          <li>02 July 2015 - <a href="blog/2015/07/02/hawkular-1.0.0.Alpha2-released.html">Hawkular, the second release!</a></li>
          <li>01 July 2015 - <a href="blog/2015/07/01/hawkular-btm-0-1-0-released.html">Hawkular-BTM 0.1.0 released</a></li>
          <li>01 July 2015 - <a href="blog/2015/07/01/hawkular-btm-0.1.0-demo.html">Monitoring a SwitchYard Application using Hawkular BTM 0.1.0.Final</a></li>
          <li>22 June 2015 - <a href="blog/2015/06/23/hawkular-metrics-0-4-0-released.html">Hawkular Metrics 0.4.0 - Release</a></li>
          <li>17 June 2015 - <a href="blog/2015/06/17/marsjug-and-rivieradev-retrospective.html">MarsJUG and RivieraDEV retrospective</a></li>
          <li>04 June 2015 - <a href="blog/2015/06/04/hawkular-1.0.0.Alpha1-released.html">Hawkular, the first release!</a></li>
          <li>01 June 2015 - <a href="blog/2015/06/01/hawkular-metrics-0-3-4-released.html">Hawkular Metrics 0.3.4 - Release</a></li>
          <li>30 April 2015 - <a href="blog/2015/04/30/introducing-btm.html">Introducing the latest Hawkular component: Business Transaction Management</a></li>
          <li>29 April 2015 - <a href="blog/2015/04/29/hello-to-gsoc-students.html">Hello GSoC Students</a></li>
          <li>17 April 2015 - <a href="blog/2015/04/14/intro-to-hawkular.html">Intro to Hawkular, a middleware open-source management solution</a></li>
          <li>14 April 2015 - <a href="blog/2015/04/14/hawkular-monitor-agent-intro.html">Hawkular-Monitor Agent</a></li>
          <li>09 April 2015 - <a href="blog/2015/04/09/alert-notifiers-for-mobile-devices.html">Alert notifiers for mobile devices</a></li>
          <li>08 April 2015 - <a href="blog/2015/2015-04-08-1.html">Testing collectd integration</a></li>
          <li>07 April 2015 - <a href="blog/2015/2015-04-07-1.html">Hawkular Metrics 0.3.1 - Release</a></li>
          <li>01 April 2015 - <a href="blog/2015/2015-04-01-1.html">Hawkular Discontinued</a></li>
          <li>30 March 2015 - <a href="blog/2015/2015-03-30-1.html">Dockerized Hawkular builds available</a></li>
          <li>24 February 2015 - <a href="blog/2015/2015-02-24-1.html">The Kettle starts boiling</a></li>
          <li>16 February 2015 - <a href="blog/2015/2015-02-16-1.html">Hawkular Metrics 0.2.7 - Release</a></li>
        <br/><br/>
    </div>

    <a href=feed.xml><i class="fa fa-rss"></i> RSS Feed</a>
</div>


		</div>
		<div id="push"></div>
    </div>

    <section class="redhat clearfix">
      <div class="container">
        <p class="pull-left">
          <a href="http://www.redhat.com/">
            <img alt="redhatlogo-white" src="/img/redhatlogo-white.png" width="130">
          </a>
        </p>
        <p class="muted credit pull-right">&copy; 2015 | Hawkular is released under <a href="/license.html">Apache License v2.0</a></p>
    <p id="forkongithubp"><span id="forkongithub">
      <a href="https://github.com/hawkular" class="bg-grey">
        Fork me on GitHub
      </a>
    </span></p>
      </div>
    </section>

    <!-- javascript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- js -->
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <script src="js/jbossorg-tabzilla.js"></script>
    <script src="js/behavior.js"></script>
    <script src="js/prettify.js"></script>
    <script src="js//ekko-lightbox.min.js"></script>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'hawkular';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-61728352-1', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>
