<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Hawkular</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="generator" content="JBake">

    <!-- css -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/asciidoctor.css" rel="stylesheet">
    <link href="css/base.css" rel="stylesheet">
    <link href="css/tabzilla.css" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">
    <link href="css/prettify.css" rel="stylesheet">
    <link href="css/ekko-lightbox.min.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
    <script src="js/moment.min.js"></script>
    <script src="js/jquery-1.11.2.min.js"></script>

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="alternate" href="feed.xml" title="Hawkular Blog - RSS" type="application/rss+xml">

  </head>
  <body onload="prettyPrint()" data-spy="scroll" data-offset="80" data-target="#toc">
    <div id="wrap">
      <div class="dropup">
        <a class="tabnav-closed" href="#" id="tab">Red Hat</a>
        <script>
            window.addEventListener('load', function() {
                 renderTabzilla("Hawkular", "https://hawkular.github.io", true );
            }, false);
        </script>
      </div>

    	<!-- Fixed navbar -->
        <nav class="navbar navbar-fixed-top" role="navigation">
          <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button class="navbar-toggle collapsed" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="index.html">Home</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
              <ul class="nav navbar-nav">
                <li><a href="index.html">Hawkular</a></li>
                <li>
                  <a href="docs/user/quick-start.html">Quick Start</a>
                </li>
                <li class=""><a href="downloads.html">Downloads</a></li>
                <li class="dropdown"><a aria-expanded="false" class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">
                  Documentation
                  <span class="caret"></span>
                </a>
                <ul class="dropdown-menu" role="menu">
                  <li class="menu-item dropdown dropdown-submenu">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">User Documentation</a>
                    <ul class="dropdown-menu">
                      <li class="menu-item ">
                        <a href="docs/user/quick-start.html">Quick Start</a>
                      </li>
                      <li class="menu-item ">
                        <a href="docs/user/installation.html">Installation</a>
                      </li>
                    </ul>
                  </li>
                  <li>
                    <a href="docs/dev/development.html">Developer Documentation</a>
                  </li>
                  <li>
                    <a href="docs/dev/terms.html">Used Terms</a>
                  </li>
                  <li class="menu-item dropdown dropdown-submenu">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">REST API</a>
                    <ul class="dropdown-menu">
                      <li class="menu-item ">
                        <a href="docs/rest/rest-alerts.html">Alerts</a>
                      </li>
                      <li class="menu-item ">
                        <a href="docs/rest/rest-btm.html">Business Transaction Management</a>
                      </li>
                      <li class="menu-item ">
                        <a href="docs/rest/rest-inventory.html">Inventory</a>
                      </li>
                      <li class="menu-item ">
                        <a href="docs/rest/rest-metrics.html">Metrics</a>
                      </li>
                    </ul>
                  </li>
                  <li class="menu-item dropdown dropdown-submenu">
                    <a href="javascript:;" onclick="return false;" class="dropdown-toggle" data-toggle="dropdown">Sub-projects</a>
                    <ul class="dropdown-menu">
                      <li class="menu-item ">
                        <a href="docs/components/alerts/index.html">Alerts</a>
                      </li>
                      <li class="menu-item ">
                        <a href="docs/components/btm/index.html">Business Transaction Management</a>
                      </li>
                      <li class="menu-item ">
                        <a href="docs/components/inventory/index.html">Inventory</a>
                      </li>
                      <li class="menu-item ">
                        <a href="docs/components/metrics/index.html">Metrics</a>
                      </li>
                    </ul>
                  </li>
                </ul>
                <li class="dropdown"><a aria-expanded="false" class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">
                  Community
                  <span class="caret"></span>
                </a>
                <ul class="dropdown-menu" role="menu">
                  <li>
                    <a href="community/index.html">Home</a>
                  </li>
                  <li>
                    <a href="community/join.html">Join</a>
                  </li>
                  <li>
                    <a href="license.html">License</a>
                  </li>
                  <li>
                    <a href="https://travis-ci.org/hawkular">CI Builds</a>
                  </li>
                </ul></li>
                <li class=""><a href="blog.html">Blog</a></li>
              </ul>
            </div>
          </div>
        </nav>


<section class="main-banner blog-mainbanner">
    <div class="container">
        <h1>Hawkular Blog</h1>
    </div>
</section>


<div class="blog-container">
            <a href="blog/2015/09/03/monitoring-rails-using-hawkular-metrics.html"><h1>Monitoring Rails App using Hawkular Metrics</h1></a>
            <p>03 September 2015, by Libor Zoubek</p>
            <p><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In this post I am going to show a way to monitor Rails application performance using Hawkular Metrics.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_setting_up_hawkular_metrics">Setting up Hawkular Metrics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are several ways of setting up Hawkular Metrics standalone server.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Build &amp; deploy</strong> - follow <a href="https://github.com/hawkular/hawkular-metrics">Hawkular Metrics Readme</a></p>
</li>
<li>
<p><strong>Docker image</strong> - start <a href="https://hub.docker.com/r/hawkular/hawkular-metrics/">Hawkular Metrics Docker Image</a></p>
</li>
<li>
<p><strong>Public instance</strong> - use <a href="http://livingontheedge.hawkular.org/hawklar/metrics" class="bare">http://livingontheedge.hawkular.org/hawklar/metrics</a> which runs full Hawkular including Metrics. But be sure your data will get lost at some point as this instance gets rebuilt/cleaned up from time to time.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hawkular_ruby_client">Hawkular Ruby Client</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Recently we started to work on a <a href="https://github.com/hawkular/hawkular-client-ruby">hawkular-client</a> in Ruby. So far we have implemented APIs for Hawkular Metrics. In this post we&#8217;ll use the client to push metric data, but it can also retrieve data for further analysis or reports, for more see <a href="http://www.hawkular.org/hawkular-client-ruby/Hawkular/Metrics/Client.html">documentation</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitoring_rails_application">Monitoring Rails Application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are several ways to monitor your Rails application&#8217;s performance. The way being shown here is pretty easy to implement, but requires modifications in Rails application. It takes advantage of <code>around_filter</code> of main ApplicationController. Within this filter we&#8217;re going to measure each controller&#8217;s response time to handle request.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_rails_demo_application">Rails Demo Application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I&#8217;ve created simple Rails4 application called <a href="https://github.com/lzoubek/rails-demo">rails-demo</a>.</p>
</div>
<div class="paragraph">
<p>I added the dependency on <a href="https://rubygems.org/gems/hawkular-client">hawkular-client</a> gem.</p>
</div>
<div class="paragraph">
<p>The <a href="https://github.com/lzoubek/rails-demo/blob/master/app/controllers/application_controller.rb">Application controller</a> code is pretty easy</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-ruby" data-lang="ruby">require "hawkularclient"

class ApplicationController &lt; ActionController::Base

  # Prevent CSRF attacks by raising an exception.
  # For APIs, you may want to use :null_session instead.
  protect_from_forgery with: :exception


  class MetricsReporter

    def initialize
      tenant_id = "hawkular.org"
      # create hawkular metrics client <b class="conum">(1)</b>
      @client = Hawkular::Metrics::Client::new("http://localhost:8080/hawkular/metrics","","",{:tenant =&gt; tenant_id})
      # create tenant in case it does not exist
      if @client.tenants.query.select { |tenant|  tenant.id == tenant_id}.empty?
      	@client.tenants.create(tenant_id)
      end
    end

    def around(controller, &amp;block)
      # measure measure measure
      now = Time.now
      block.call
      time_spent = Time.now - now
      # metric ID must be unique within tenant <b class="conum">(2)</b>
      gauge = "App.#{controller.class.name}:#{controller.params[:action]}"
      # make sure metric definition is created <b class="conum">(3)</b>
      @client.gauges.create({:id =&gt; gauge, :tags =&gt; {:app =&gt; "App"}}) rescue
      # report time in milliseconds
      @client.gauges.push_data(gauge ,{:value =&gt; time_spent * 1000})
    end

  end

  # enable filter
  around_filter MetricsReporter::new

end</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>We create Hawkular Metrics <strong>@client</strong>. Point it to your instance URL, leave user/pass empty (as this has not been implemented yet) and set <strong>tenant</strong> option.</p>
</li>
<li>
<p>We encode our application Name, controller name and controller action into metric ID. So we have different metrics for listing objects and ie. editing an object.</p>
</li>
<li>
<p>We need to create metric definition with our tags, so we&#8217;re able to find all metrics related to rails-demo app later. This line is not required in case you don&#8217;t want to assign tags to your metric definitions.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Let&#8217;s start Rails dev environment</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-bash" data-lang="bash">gem install rails
git clone https://github.com/lzoubek/rails-demo.git
cd rails-demo
bundler install
bin/rake db:migrate RAILS_ENV=development
rails server</code></pre>
</div>
</div>
<div class="paragraph">
<p>By now, WEBrick should be listening on localhost, open <a href="http://localhost:3000/products" class="bare">http://localhost:3000/products</a> and in case there is no error displayed congratulations, we are monitoring <strong>rails-demo</strong>! Let&#8217;s start hitting the UI with some more requests using helper bash script located in <code>rails-demo</code> repository</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-bash" data-lang="bash">./hit.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p>At this time we are simulating traffic on <strong>rails-demo</strong> application and pushing controller&#8217;s response times to Hawkular Metrics service.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_results">The Results</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Currently Hawkular Metrics (standalone) has no UI. But there is a bunch of useful angular components like <a href="https://github.com/hawkular/hawkular-charts">hawkular-charts</a>, so I wrote simple UI which can at least find metric definitions by tags and draw metric data into line chart.</p>
</div>
<div class="paragraph">
<p>To watch metric data from rails-demo application open <a href="http://lzoubek.github.io/hawkular-metrics-ui-demo">Hawkular Metrics UI Demo</a>, fill in <strong>Metrics API URL</strong> (must be reachable from browser), <strong>Tenant ID</strong> and tags.</p>
</div>
<div id="rails-controller-response-times" class="imageblock" style="text-align: center">
<div class="content">
<a class="image" href="/img/blog/2015/hawkular-metrics-demo-ui.png"><img src="/img/blog/2015/hawkular-metrics-demo-ui.png" alt="Rails Controller response times" width="800"></a>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_s_next">What&#8217;s next?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As you may have already noticed, Hawkular Metrics server perfomance can have negative impact on rails-demo application performance because we synchronously push the data within around_filter code.  Even the fact, that rails application must be modified in order to be monitored might not be a good thing. In the next blog post I&#8217;ll write a simple service that is going to parse rails log files and report  data to Hawkular Metrics. In fact, it would be awesome to reuse <a href="https://github.com/scoutapp/scout-plugins">scout plugins</a> and forward their reports into Hawkular Metrics.</p>
</div>
<div class="paragraph">
<p>Having metrics is only one piece in puzzle. Integration with <a href="/docs/components/alerts/index.html">Hawkular Alerts</a> will let you detect performance regressions or unexpected loads.</p>
</div>
</div>
</div></p>
            <br />
            <hr /><br />
            <br />
            <a href="blog/2015/08/27/hawkular-1.0.0.Alpha4-released.html"><h1>The fourth milestone of Hawkular released</h1></a>
            <p>27 August 2015, by Peter Palaga</p>
            <p><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Hawkular, the monitoring platform, is happy to announce the release of its fourth milestone 1.0.0.Alpha4.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_improvements_in_alerts_definitions">Improvements in Alerts definitions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Alerts are there to inform the user about an occurrence of a problem in some of the monitored resources. The present
release adds some new configuration dialogs and improves the existing ones.</p>
</div>
<div class="paragraph">
<p>There are new configuration options to setup Alerts based on JVM Heap Usage and Garbage Collection.</p>
</div>
<div id="img-jvm-heap-usage-alerts" class="imageblock">
<div class="content">
<img src="/img/blog/2015/2015-08-27-jvm-heap-usage-alerts.png" alt="JVM Alert Settings for Heap Usage">
</div>
<div class="title">Figure 1. JVM Alert Settings for Heap Usage</div>
</div>
<div class="paragraph">
<p>There is a new dialog to configure Alerts for Datasources.</p>
</div>
<div id="img-ds-alerts" class="imageblock">
<div class="content">
<img src="/img/blog/2015/2015-08-27-ds-alerts.png" alt="JVM Alert Settings for Datasources">
</div>
<div class="title">Figure 2. JVM Alert Settings for Datasources</div>
</div>
<div class="paragraph">
<p>And there are new Specialized dialogs to configure Alerts for URLs' Availability and Response Time.</p>
</div>
<div id="img-url-avail-alerts" class="imageblock">
<div class="content">
<img src="/img/blog/2015/2015-08-27-url-avail-alerts.png" alt="JVM Alert Settings for URLs' Availability">
</div>
<div class="title">Figure 3. Settings for URLs' Availability</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_red_hat_access_portal_integration">Red Hat Access Portal Integration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We added an integration with the <a href="https://access.redhat.com/">Red Hat Access Portal</a> to Hawkular.
Users with valid Access Portal credentials are now able to browse the Knowledge Base, view and create Support Cases
using the Hawkular user interface. On the future releases, we plan to improve this integration by adding more features.
If that sounds interesting to you, we are looking forward for your feedback on #hawkular channel on
<a href="https://freenode.net/">Freenode</a>.</p>
</div>
<div id="img-rh-access" class="imageblock">
<div class="content">
<img src="/img/blog/2015/2015-08-27-rh-access.png" alt="Open a ticket on Red Hat Access portal using the Hawkular UI" width="400">
</div>
<div class="title">Figure 4. Open a ticket on Red Hat Access portal using the Hawkular UI</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_backend">Backend</h2>
<div class="sectionbody">
<div class="paragraph">
<p>While these changes in backend are not used by the UI yet, they present an important step towards a new UI functionality
in future releases:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Hawkular Inventory now provides an API for configuration of resources and Hawkular Agent is using this API.</p>
</li>
<li>
<p>Hawkular Bus and Agent now support the execution of operations on any resource
<a href="https://issues.jboss.org/browse/HAWKULAR-483">HAWKULAR-483</a>.</p>
</li>
<li>
<p>Hawkular Bus offers a new infrastructure to stream large data from UI to monitored Application Servers.
This is especially important for another feature that was added in the backend, namely the support for deploying
applications on monitored Application Servers.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_other_minor_tweaks_and_fixes">Other minor tweaks and fixes</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.jboss.org/browse/HAWKULAR-488">HAWKULAR-488</a> - Display IP Address for Application Servers</p>
</li>
<li>
<p><a href="https://issues.jboss.org/browse/HAWKULAR-254">HAWKULAR-254</a> - Blank screen on Windows</p>
</li>
<li>
<p><a href="https://issues.jboss.org/browse/HAWKULAR-336">HAWKULAR-336</a> - Inconsistent time information on URL details page</p>
</li>
<li>
<p><a href="https://issues.jboss.org/browse/HAWKULAR-406">HAWKULAR-406</a> - Same data for 2 different Wfly servers shown</p>
</li>
<li>
<p><a href="https://issues.jboss.org/browse/HAWKULAR-494">HAWKULAR-494</a> - Datasources not unique per server</p>
</li>
<li>
<p><a href="https://issues.jboss.org/browse/HAWKULAR-497">HAWKULAR-497</a> - Resources in inventory are lost at restart</p>
</li>
<li>
<p><a href="https://issues.jboss.org/browse/HAWKULAR-521">HAWKULAR-521</a> - "http://livingontheedge.hawkular.org" isn&#8217;t using the hawkular favicon.</p>
</li>
<li>
<p><a href="https://issues.jboss.org/browse/HAWKULAR-526">HAWKULAR-526</a> - Downtime duration alert settings don&#8217;t persist after save.</p>
</li>
<li>
<p><a href="https://issues.jboss.org/browse/HAWKULAR-536">HAWKULAR-536</a> - License Check of imported node_modules</p>
</li>
<li>
<p><a href="https://issues.jboss.org/browse/HAWKULAR-553">HAWKULAR-553</a> - Url input is not validated (enough)</p>
</li>
<li>
<p><a href="https://issues.jboss.org/browse/HAWKULAR-579">HAWKULAR-579</a> - "Alert Settings" link on URL details &gt; All Alerts does notthing when clicked</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Full list of Jira issues fixed in this release:
<a href="/releasenotes/1.0.0.Alpha4.html">Release Notes - Hawkular - Version 1.0.0.Alpha4</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_watch_the_demo_online">Watch the demo online</h2>
<div class="sectionbody">
<div class="videoblock">
<div class="content">
<iframe width="600" height="400" src="//www.youtube.com/embed/nekjPRwf50U?rel=0" frameborder="0" allowfullscreen></iframe>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_downloads">Downloads</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can download the release here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://download.jboss.org/hawkular/hawkular/1.0.0.Alpha4/hawkular-dist-1.0.0.Alpha4.zip">Hawkular 1.0.0.Alpha4 (zip)</a></p>
</li>
<li>
<p><a href="http://download.jboss.org/hawkular/hawkular/1.0.0.Alpha4/hawkular-dist-1.0.0.Alpha4.tar.gz">Hawkular 1.0.0.Alpha4
(tar.gz)</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_s_next">What&#8217;s next?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The next Alpha is planned for September 25th, and we are looking forward to work on the following features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Deployment of new applications into managed servers</p>
</li>
<li>
<p>Definition of jdbc drivers and data sources</p>
</li>
</ul>
</div>
</div>
</div></p>
            <br />
            <hr /><br />
            <br />
            <a href="blog/2015/08/25/hawkular-alerts-autoresolve.html"><h1>Introduction to AutoResolve triggers</h1></a>
            <p>25 August 2015, by Lucas Ponce</p>
            <p><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Hawkular Alerts provide a simple Alert life-cycle management and an automated Alert resolution as core features.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_alert_lifecycle">Alert Lifecycle</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Triggers are defined to detect problems. When a problem happens a new alert is generated by the engine
with the information about the data that matched the defined conditions. Also an Alert provides a simple lifecycle to
indicate the status of the problem.</p>
</div>
<div class="paragraph">
<p>A new Alert starts with <strong>OPEN</strong> status, optionally moves to <strong>ACKNOWLEDGED</strong> to indicate the alert has been seen and the
issue is being resolved, and is finally set to <strong>RESOLVED</strong> to indicate that the problem has been fixed.</p>
</div>
<div class="paragraph">
<p>Alert lifecycle can be handled manually or can be managed automatically by the AutoResolve tooling.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_autoresolve_triggers">AutoResolve triggers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A trigger has one or multiple conditions that are set to detect a problem. When incoming data matches the
condition expresions an alert is fired to inform about this new issue. In this context, if the engine is still
receiving data, new alerts will be generated even if it refers to the <strong>same</strong> problem.</p>
</div>
<div class="paragraph">
<p>The detection of multiple alerts belonging to the <strong>same</strong> problem can be controlled with fine granularity.</p>
</div>
<div class="paragraph">
<p>Hawkular Alerts allow to define that once a problem triggered an alert, the trigger is not going to evaluate more data
until the issue is resolved to avoid repeated alerts for the same issue.</p>
</div>
<div class="paragraph">
<p>Resolution of a problem can be done manually or automatically using <strong>AUTORESOLVE</strong> triggers.</p>
</div>
<div class="paragraph">
<p>A trigger defines conditions that are responsible to detect a problem. These conditions are called <strong>FIRING</strong> conditions
in Hawkular Alerts. Optionally, a trigger can define conditions that are responsible to detect when the problem is
gone. These new ones are called <strong>AUTORESOLVE</strong> conditions. So, in the engine a trigger will be in <strong>FIRING</strong> mode when it
is evaluating data to detect a problem while it will be a in <strong>AUTORESOLVE</strong> mode when it is evaluating data to detect that
the problem is no longer present.</p>
</div>
<div class="paragraph">
<p>These combination of <strong>FIRING</strong> and <strong>AUTORESOLVE</strong> conditions ensures that only <strong>one alert</strong> is generated for a problem
and when the problem is resolved the trigger automatically returns to firing mode.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example_of_alerting_on_process_availability">Example of alerting on process availability</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let&#8217;s define a simple example to show how AutoResolve triggers work.</p>
</div>
<div class="paragraph">
<p>In <a href="https://github.com/lucasponce/hawkular-examples/blob/master/extended-tests/process-autoresolve/create-definition-check-process.sh">create-definition-check-process.sh</a> bash script
we have defined an AutoResolve trigger activating flags <strong>autoResolve</strong> and <strong>autoResolveAlerts</strong>.</p>
</div>
<div class="paragraph">
<p>This fragment shows how to mark a trigger as AutoResolve:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-json" data-lang="json">{
 "id": "check-firefox-process",
 "name": "Firefox process",
 "description": "Check availability firefox process",
 "actions": {
   "email": ["my-group-to-notify"]
 },
 "firingMatch": "ALL",
 "autoResolveMatch": "ALL",
 "enabled": true,
 "autoDisable": false,
 "autoEnable": false,
 "autoResolve": true, <b class="conum">(1)</b>
 "autoResolveAlerts": true, <b class="conum">(2)</b>
 "severity": "HIGH"
}</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p><strong>autoResolve</strong> flag set to <strong>true</strong> indicates that the trigger will activate <strong>FIRING</strong> and <strong>AUTORESOLVE</strong> modes. Flag set
to <strong>false</strong> will run the trigger only in <strong>FIRING</strong> mode.</p>
</li>
<li>
<p><strong>autoResolveAlerts</strong> flag set to <strong>true</strong> will automatically mark all unresolved alerts (for the trigger) as <strong>resolved</strong>
when <strong>AUTORESOLVE</strong> trigger detect problem is gone. Flag set to <strong>false</strong> will not modify the alert lifecycle.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>And the next fragment will show how to declare <strong>FIRING</strong> and <strong>AUTORESOLVE</strong> conditions linked with the trigger:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-json" data-lang="json">{
 "triggerMode": "FIRING", <b class="conum">(1)</b>
 "type": "AVAILABILITY",
 "dataId": "firefox-process",
 "operator": "NOT_UP"
}

...

{
 "triggerMode": "AUTORESOLVE", <b class="conum">(2)</b>
 "type": "AVAILABILITY",
 "dataId": "firefox-process",
 "operator": "UP"
}</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p><strong>triggerMode</strong> indicates in which mode will this condition be executed, <strong>FIRING</strong> mode is used to detect the
problem we want to alert. In our example, it is an occurence of the Firefox process not being up.</p>
</li>
<li>
<p><strong>AUTORESOLVE</strong> conditions are executed to detect when the probem is not present.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Finally, in <a href="https://github.com/lucasponce/hawkular-examples/blob/master/extended-tests/process-autoresolve/send-data-check-process.sh">send-data-check-process.sh</a>
bash script we show how we can check and send availability data about process we want to monitor.</p>
</div>
<div class="paragraph">
<p>The format of the payload is shown in the next fragment:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-json" data-lang="json">{
 "availability": [
    {"id": "firefox-process", <b class="conum">(1)</b>
     "type": "AVAILABILITY",
     "timestamp": $timestamp,
     "value": "$firefox_availability"
     }
 ]
}</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>This <strong>id</strong> should match the <strong>dataId</strong> field defined in the conditions.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Examples can be run using <a href="/blog/2015/08/19/hawkular-alerts-standalone.html">Hawkular Alerts in Standalone</a>
deployment used in the previous post.</p>
</div>
<div class="paragraph">
<p>More details about Hawkular Alerts features can be found at</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="/docs/dev/alerts.html">Hawkular Alerts Developer Guide</a></p>
</li>
<li>
<p><a href="/docs/rest/rest-alerts.html">Hawkular Alerts REST API</a></p>
</li>
</ul>
</div>
</div>
</div></p>
            <br />
            <hr /><br />
            <br />
            <a href="blog/2015/08/19/hawkular-alerts-standalone.html"><h1>Using Hawkular Alerts as a standalone engine</h1></a>
            <p>19 August 2015, by Lucas Ponce</p>
            <p><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Hawkular Alerts is a component of the Hawkular project. It&#8217;s goal is to provide flexible and scalable alerting services in a easily consumable way. Some of Hawkular Alerts features are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Flexible, multi-condition Triggers.</p>
</li>
<li>
<p>Powerful "Dampening" to control your alert firing rate .</p>
</li>
<li>
<p>Simple Alert Life-cycle management.</p>
</li>
<li>
<p>Automated Trigger disable and enable.</p>
</li>
<li>
<p>Automated Alert Resolution by detecting the end of your alerting event.</p>
</li>
<li>
<p>Pluggable Action and Notification capabilities to act on your alerts.</p>
</li>
<li>
<p>Complete REST API for Definition and Execution.</p>
</li>
<li>
<p>Optional standalone deployment or get added value with Hawkular Metrics or Hawkular.</p>
</li>
<li>
<p>Multi-platform deployment as a J2EE WAR file on JBoss WildFly.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_standalone_deployments">Standalone deployments</h2>
<div class="sectionbody">
<div class="paragraph">
<p>One of the possibilities of the deployments is to use Alerts as a standalone component.</p>
</div>
<div class="paragraph">
<p>In this scenario, the engine can run on an Wildfly server and we can interact via Java or REST API to create alerts
definitions or feed data.</p>
</div>
<div class="paragraph">
<p>Details of how to install and configure Hawkular Alerts can be found in the <a href="http://www.hawkular.org/docs/components/alerts/index.html">component documentation</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hello_world">Hello World</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let&#8217;s start using Hawkular Alerts with a small example.</p>
</div>
<div class="paragraph">
<p>We are going to create an alert definition like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-shell" data-lang="shell">TRIGGER trigger-for-poc
WHEN
    data-x &lt; 5 AND data-y &gt; 5
HAPPENS
    2 consecutive times
THEN
    EMAIL to:admin-group@hawkular.org,cc:cc-group@hawkular.org</code></pre>
</div>
</div>
<div class="paragraph">
<p>from this script <a href="https://github.com/lucasponce/hawkular-examples/blob/master/create-definitions.sh">create-definitions.sh</a>.</p>
</div>
<div class="paragraph">
<p>In the example, we create a trigger with two conditions that is linked with an email action for alert notifications.</p>
</div>
<div class="paragraph">
<p>Now that we have the definitions created on the engine, next step will be to send data to evaluate the conditions.</p>
</div>
<div class="paragraph">
<p>For this example we are going to use directly the REST API from a bash script <a href="https://github.com/lucasponce/hawkular-examples/blob/master/send-data.sh">send-data.sh</a>.</p>
</div>
<div class="paragraph">
<p>The example sends random data to the engine, triggering alerts when two consecutive evaluations of the conditions
happens, then an email notification is sent with the action details.</p>
</div>
<div class="paragraph">
<p>We have created a <a href="https://youtu.be/3i64kO0XEjw">short demo</a> showing the whole scenario.</p>
</div>
<div class="videoblock">
<div class="content">
<iframe src="//www.youtube.com/embed/3i64kO0XEjw?rel=0" frameborder="0" allowfullscreen></iframe>
</div>
</div>
<div class="paragraph">
<p>This example is quite simple and its goal is to show the flexibility to use the engine.</p>
</div>
<div class="paragraph">
<p>More details about Hawkular Alerts features can be found at</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="/docs/dev/alerts.html">Hawkular Alerts Developer Guide</a></p>
</li>
<li>
<p><a href="/docs/rest/rest-alerts.html">Hawkular Alerts REST API</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Feel free to try out the latest release for yourself on your own applications. If you have any questions or comments,
 please contact us on <a href="/community/join.html">these channels</a>.</p>
</div>
<div class="paragraph">
<p>If you have suggestions for features/enhancements, or find any bugs, then please log an issue in the <a href="https://issues.jboss.org/browse/HWKALERTS">project jira</a>.</p>
</div>
</div>
</div></p>
            <br />
            <hr /><br />
            <br />
            <a href="blog/2015/08/14/hawkular-btm-0.3.0-demo.html"><h1>Visualising Business Transaction Information using Hawkular BTM 0.3.0.Final with RTGov Integration</h1></a>
            <p>14 August 2015, by Gary Brown</p>
            <p><div class="paragraph">
<p>The Hawkular Business Transaction Management (BTM) project has released version <a href="https://github.com/hawkular/hawkular-btm/releases/tag/0.3.0.Final">0.3.0.Final</a>. Some of the new features within this release:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extract correlation ids, properties/details and message content from business transaction instances. This enables the generic information captured by instrumenting the underlying technologies to be enhanced with business specific information that can be useful for later analysis and to help correlate different parts of an overall business transaction instance.</p>
</li>
<li>
<p>BTM to RTGov gateway, to enable the business transaction instance data collected by BTM to be reported and visualised using RTGov (Runtime Governance) tooling.</p>
</li>
<li>
<p>Fault path handling for switchyard services.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To demonstrate the use of Hawkular BTM, to extract business transaction specific data and report the information to RTGov, we have created a <a href="https://youtu.be/bxeRJAsAu_8">short screencast</a>.</p>
</div>
<div class="videoblock">
<div class="content">
<iframe src="//www.youtube.com/embed/bxeRJAsAu_8?rel=0" frameborder="0" allowfullscreen></iframe>
</div>
</div>
<div class="paragraph">
<p>Feel free to try out the latest release for yourself on your own applications. If you have any questions or comments, please contact us on <a href="/community/join.html">these channels</a>.</p>
</div>
<div class="paragraph">
<p>If you have suggestions for features/enhancements, or find any bugs, then please log an issue in the <a href="https://issues.jboss.org/browse/HWKBTM">project jira</a>.</p>
</div></p>
            <br />
            <hr /><br />
            <br />



    <div class="large-4 columns blog-post-listings">
        <h2>Older posts:</h2>
        <ul>
          <li>30 July 2015 - <a href="blog/2015/07/30/hawkular-1.0.0.Alpha3-released.html">Hawkular, all good things make three!</a></li>
          <li>22 July 2015 - <a href="blog/2015/07/22/hawkular-btm-0.2.0-demo.html">Monitoring a Vert.x Application using Hawkular BTM 0.2.0.Final</a></li>
          <li>02 July 2015 - <a href="blog/2015/07/02/hawkular-1.0.0.Alpha2-released.html">Hawkular, the second release!</a></li>
          <li>01 July 2015 - <a href="blog/2015/07/01/hawkular-btm-0-1-0-released.html">Hawkular-BTM 0.1.0 released</a></li>
          <li>01 July 2015 - <a href="blog/2015/07/01/hawkular-btm-0.1.0-demo.html">Monitoring a SwitchYard Application using Hawkular BTM 0.1.0.Final</a></li>
          <li>22 June 2015 - <a href="blog/2015/06/23/hawkular-metrics-0-4-0-released.html">Hawkular-Metrics 0.4.0 release and the way beyond</a></li>
          <li>17 June 2015 - <a href="blog/2015/06/17/marsjug-and-rivieradev-retrospective.html">MarsJUG and RivieraDEV retrospective</a></li>
          <li>04 June 2015 - <a href="blog/2015/06/04/hawkular-1.0.0.Alpha1-released.html">Hawkular, the first release!</a></li>
          <li>01 June 2015 - <a href="blog/2015/06/01/hawkular-metrics-0-3-4-released.html">Hawkular-Metrics 0.3.4 release and the way beyond</a></li>
          <li>30 April 2015 - <a href="blog/2015/04/30/introducing-btm.html">Introducing the latest Hawkular component: Business Transaction Management</a></li>
          <li>29 April 2015 - <a href="blog/2015/04/29/hello-to-gsoc-students.html">Hello GSoC Students</a></li>
          <li>17 April 2015 - <a href="blog/2015/04/14/intro-to-hawkular.html">Intro to Hawkular, a middleware open-source management solution</a></li>
          <li>14 April 2015 - <a href="blog/2015/04/14/hawkular-monitor-agent-intro.html">Hawkular-Monitor Agent</a></li>
          <li>09 April 2015 - <a href="blog/2015/04/09/alert-notifiers-for-mobile-devices.html">Alert notifiers for mobile devices</a></li>
          <li>08 April 2015 - <a href="blog/2015/2015-04-08-1.html">Testing collectd integration</a></li>
          <li>07 April 2015 - <a href="blog/2015/2015-04-07-1.html">Hawkular-Metrics 0.3.1 release</a></li>
          <li>01 April 2015 - <a href="blog/2015/2015-04-01-1.html">Hawkular Discontinued</a></li>
          <li>30 March 2015 - <a href="blog/2015/2015-03-30-1.html">Dockerized Hawkular builds available</a></li>
          <li>24 February 2015 - <a href="blog/2015/2015-02-24-1.html">The Kettle starts boiling</a></li>
          <li>16 February 2015 - <a href="blog/2015/2015-02-16-1.html">Hawkular-Metrics 0.2.7 release</a></li>
        <br/><br/>
    </div>

    <a href=feed.xml><i class="fa fa-rss"></i> RSS Feed</a>
</div>


		</div>
		<div id="push"></div>
    </div>

    <section class="redhat clearfix">
      <div class="container">
        <p class="pull-left">
          <a href="http://www.redhat.com/">
            <img alt="redhatlogo-white" src="/img/redhatlogo-white.png" width="130">
          </a>
        </p>
        <p class="muted credit pull-right">&copy; 2015 | Baked with <a href="http://jbake.org">JBake v2.4.0</a></p>
    <p id="forkongithubp"><span id="forkongithub">
      <a href="https://github.com/hawkular" class="bg-grey">
        Fork me on GitHub
      </a>
    </span></p>
      </div>
    </section>

    <!-- javascript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- js -->
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <script src="js/jbossorg-tabzilla.js"></script>
    <script src="js/behavior.js"></script>
    <script src="js/prettify.js"></script>
    <script src="js//ekko-lightbox.min.js"></script>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'hawkular';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-61728352-1', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>
