<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Hawkular</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="generator" content="JBake">

    <!-- css -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/asciidoctor.css" rel="stylesheet">
    <link href="css/base.css" rel="stylesheet">
    <link href="css/tabzilla.css" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">
    <link href="css/prettify.css" rel="stylesheet">
    <link href="css/ekko-lightbox.min.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
    <script src="js/moment.min.js"></script>
    <script src="js/jquery-1.11.2.min.js"></script>

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="alternate" href="feed.xml" title="Hawkular Blog - RSS" type="application/rss+xml">

  </head>
  <body onload="prettyPrint()" data-spy="scroll" data-offset="80" data-target="#toc">
    <div id="wrap">
      <div class="dropup">
        <a class="tabnav-closed" href="#" id="tab">Red Hat</a>
        <script>
            window.addEventListener('load', function() {
                 renderTabzilla("Hawkular", "https://hawkular.github.io", true );
            }, false);
        </script>
      </div>

    	<!-- Fixed navbar -->
        <nav class="navbar navbar-fixed-top" role="navigation">
          <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button class="navbar-toggle collapsed" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="index.html">Home</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
              <ul class="nav navbar-nav">
                <li><a href="index.html">Hawkular</a></li>
                <li>
                  <a href="docs/user/quick-start.html">Quick Start</a>
                </li>
                <li class=""><a href="downloads.html">Downloads</a></li>
                <li class="dropdown"><a aria-expanded="false" class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">
                  Documentation
                  <span class="caret"></span>
                </a>
                <ul class="dropdown-menu" role="menu">
                  <li class="menu-item dropdown dropdown-submenu">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">User Documentation</a>
                    <ul class="dropdown-menu">
                      <li class="menu-item ">
                        <a href="docs/user/quick-start.html">Quick Start</a>
                      </li>
                      <li class="menu-item ">
                        <a href="docs/user/installation.html">Installation</a>
                      </li>
                    </ul>
                  </li>
                  <li>
                    <a href="docs/dev/development.html">Developer Documentation</a>
                  </li>
                  <li>
                    <a href="docs/dev/terms.html">Used Terms</a>
                  </li>
                  <li class="menu-item dropdown dropdown-submenu">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">REST API</a>
                    <ul class="dropdown-menu">
                      <li class="menu-item ">
                        <a href="docs/rest/rest-alerts.html">Alerts</a>
                      </li>
                      <li class="menu-item ">
                        <a href="docs/rest/rest-btm.html">Business Transaction Management</a>
                      </li>
                      <li class="menu-item ">
                        <a href="docs/rest/rest-inventory.html">Inventory</a>
                      </li>
                      <li class="menu-item ">
                        <a href="docs/rest/rest-metrics.html">Metrics</a>
                      </li>
                    </ul>
                  </li>
                  <li class="menu-item dropdown dropdown-submenu">
                    <a href="javascript:;" onclick="return false;" class="dropdown-toggle" data-toggle="dropdown">Sub-projects</a>
                    <ul class="dropdown-menu">
                      <li class="menu-item ">
                        <a href="docs/components/alerts/index.html">Alerts</a>
                      </li>
                      <li class="menu-item ">
                        <a href="docs/components/btm/index.html">Business Transaction Management</a>
                      </li>
                      <li class="menu-item ">
                        <a href="docs/components/inventory/index.html">Inventory</a>
                      </li>
                      <li class="menu-item ">
                        <a href="docs/components/metrics/index.html">Metrics</a>
                      </li>
                    </ul>
                  </li>
                </ul>
                <li class="dropdown"><a aria-expanded="false" class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">
                  Community
                  <span class="caret"></span>
                </a>
                <ul class="dropdown-menu" role="menu">
                  <li>
                    <a href="community/index.html">Home</a>
                  </li>
                  <li>
                    <a href="community/join.html">Join</a>
                  </li>
                  <li>
                    <a href="license.html">License</a>
                  </li>
                  <li>
                    <a href="https://travis-ci.org/hawkular">CI Builds</a>
                  </li>
                </ul></li>
                <li class=""><a href="blog.html">Blog</a></li>
              </ul>
            </div>
          </div>
        </nav>


<section class="main-banner blog-mainbanner">
    <div class="container">
        <h1>Hawkular Blog</h1>
    </div>
</section>


<div class="blog-container">
            <a href="blog/2015/10/05/hawkular-metrics-2k-commits.html"><h1>Hawkular Metrics - 2k Commits</h1></a>
            <p>05 October 2015, by Stefan Negrea</p>
            <p><div class="paragraph">
<p>The Hawkular Metrics project reached a nice milestone last week. On Tuesday a pull-request merge commit marked the <a href="https://github.com/hawkular/hawkular-metrics/commit/1e04c5219b4eee6da0eab2714e7196a3dc45f0e1">2000th</a> commit on the master branch of the project.</p>
</div>
<div class="paragraph">
<p>Here are few other interesting data points about the project:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>over 25k lines of code (~87% Java)</p>
</li>
<li>
<p><a href="https://github.com/hawkular/hawkular-metrics/commits/master">over 2k commits</a>, <a href="https://github.com/hawkular/hawkular-metrics/pulls?q=is%3Aall">over 385 pull requests</a></p>
</li>
<li>
<p><a href="https://github.com/hawkular/hawkular-metrics/releases">17 releases</a> (with a monthly release cadence)</p>
</li>
<li>
<p><a href="https://github.com/hawkular/hawkular-metrics/commit/d725243544e1d692610cf56b7fe0ffdaff3487f8">19 months since first repository commit</a></p>
</li>
<li>
<p><a href="https://github.com/hawkular/hawkular-metrics">24 contributors, 35 forks, and 54 stars in Github</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For those not familiar with <a href="https://github.com/hawkular/hawkular-metrics/blob/master/README.adoc">Hawkular Metrics</a>, the project is a high performance storage engine for large volume metric data. The project uses Cassandra as a storage engine because of its flexible data model well suited for time-series data storage and linear scalability with no single point of failure.</p>
</div>
<div class="paragraph">
<p>Hawkular Metrics offers powerful querying, aggregation, and tagging features for gauge, availability, and counter metrics. The data storage was designed with multi-tenancy as a core feature, which is supported out-of-box. The main public API for the project is a clean REST interface.</p>
</div>
<div class="paragraph">
<p>These <a href="https://github.com/hawkular/hawkular-metrics/commits/1e04c5219b4eee6da0eab2714e7196a3dc45f0e1">first 2000 commits</a> are just the beginning of great things to come in a relatively young project. There are plans to add additional metric types and more complex statistical and querying capabilities. Ingestion data aggregation, cross metric down-sampling, and rich tagging queries over tag data are just a few of the features we have planned. So far we have been very careful introducing features in order to keep a API clean and deliver robust software.</p>
</div>
<div class="paragraph">
<p>We welcome all contributions and input. If you or your organization is looking for a metric storage engine, we would love to talk with you. We want to learn about your use case, how you approach metric storage, and if there features are missing in Hawkular Metrics for your particular application.  A good resource for future plans as well as past releases is the <a href="https://issues.jboss.org/projects/HWKMETRICS?selectedItem=com.atlassian.jira.jira-projects-plugin:release-page&amp;status=all">Hawkular Metrics JIRA</a>. Feel free to contact us overy irc (#hawkular on freenode), <a href="https://lists.jboss.org/mailman/listinfo/hawkular-dev">mailing list</a>, or email.</p>
</div>
<div class="paragraph">
<p>As a closing, I want to send a big “Thank You” to the <a href="http://www.hawkular.org/">Hawkular organization</a> for hosting the project and to all the project committers for their outstanding contributions:  <a href="https://github.com/tsegismont">Thomas Segismont</a>, <a href="https://github.com/stefannegrea">Stefan Negrea</a>, <a href="https://github.com/jsanda">John Sanda</a>, <a href="https://github.com/mtho11">Mike Thompson</a>, <a href="https://github.com/pilhuhn">Heiko Rupp</a>, <a href="https://github.com/burmanm">Micheal Burman</a>, <a href="https://github.com/mwringe">Matt Wringe</a>, <a href="https://github.com/ppalaga">Peter Palaga</a>, <a href="https://github.com/jkandasa">Jeeva Kandasamy</a>, <a href="https://github.com/heiko-braun">Heiko Braun</a>, <a href="https://github.com/Jiri-Kremser">Jirka Kremser</a>, <a href="https://github.com/vnugent">Viet Nguyen</a>, <a href="https://github.com/jimmidyson">Jimmi Dyson</a>, <a href="https://github.com/aslakknutsen">Aslak Knutsen</a>, <a href="https://github.com/jpkrohling">Juraci Paixão Kröhling</a>, <a href="https://github.com/theute">Thomas Heute</a>, <a href="https://github.com/jshaughn">Jay Shaughnessy</a>, <a href="https://github.com/metlos">Lukas Krejci</a>, <a href="https://github.com/jstrachan">James Strachan</a>, <a href="https://github.com/gkhachik">Garik Khachikyan</a>, <a href="https://github.com/spadgett">Sam Padgett</a>, <a href="https://github.com/vrockai">Villiam Rockai</a>, <a href="https://github.com/jmazzitelli">John Mazzitelli</a>, <a href="https://github.com/ammendonca">Alexandre Mendonça</a>.</p>
</div>
<div class="paragraph">
<p>To 4000 commits in half the time!</p>
</div></p>
            <br />
            <hr /><br />
            <br />
            <a href="blog/2015/09/30/hawkular-metrics-0.7.0.Final-released.html"><h1>Hawkular-Metrics 0.7.0 Release</h1></a>
            <p>30 September 2015, by Stefan Negrea</p>
            <p><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>I am happy to announce release 0.7.0 of Hawkular Metrics. This release is anchored by major enhancements to counter metrics, updated tag support, and many performance and stability enhancements.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_major_changes">Major Changes:</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Cassandra Upgrade</strong></p>
<div class="ulist">
<ul>
<li>
<p>Cassandra version 2.2.x is now required for data storage</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Updated support for counter metrics</strong></p>
<div class="ulist">
<ul>
<li>
<p>Counter raw data and rate data now support buckets similar to the way gauge data does (<a href="https://issues.jboss.org/browse/HWKMETRICS-280">HWKMETRICS-280</a>, <a href="https://issues.jboss.org/browse/HWKMETRICS-283">HWKMETRICS-283</a>)</p>
</li>
<li>
<p>The same query parameters as gauge metrics are supported.</p>
</li>
<li>
<p>Tagging functionality (add, delete, update) is now identical to availability and gauge metrics.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Revamped tag functionality</strong></p>
<div class="ulist">
<ul>
<li>
<p>Tag support has been updated to have identical functionality across all metric types.</p>
</li>
<li>
<p>Tagging data points is no longer supported; however, this functionality may resurface when requirements are better understood and there is a real use case around it (<a href="https://issues.jboss.org/browse/HWKMETRICS-247">HWKMETRICS-247</a>)</p>
</li>
<li>
<p>Improved metric tag storage and querying; metric tags are no longer stored in the data table (<a href="https://issues.jboss.org/browse/HWKMETRICS-254">HWKMETRICS-254</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Data storage updates</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong>Schema changes will require rebuilding database</strong></p>
</li>
<li>
<p>Interval column has been removed from all tables (<a href="https://issues.jboss.org/browse/HWKMETRICS-3">HWKMETRICS-3</a>)</p>
</li>
<li>
<p>Stop the warning message in Cassandra log about batch statement size threshold being exceeded (<a href="https://issues.jboss.org/browse/HWKMETRICS-252">HWKMETRICS-252</a>)</p>
</li>
<li>
<p>System-wide data retention default setting is now configurable via system property (<a href="https://issues.jboss.org/browse/HWKMETRICS-251">HWKMETRICS-251</a>)</p>
</li>
<li>
<p>Data retention can be set during tenant creation (<a href="https://issues.jboss.org/browse/HWKMETRICS-127">HWKMETRICS-127</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Influx endpoint</strong></p>
<div class="ulist">
<ul>
<li>
<p>time_precision parameter is now supported (Hawkular Metrics does not support microseconds precision though)</p>
</li>
<li>
<p>integer "overflow" fixes; long integers are now used where needed</p>
</li>
<li>
<p>time range restrictions support values without unit (i.e. 'time &gt; 1010101010')</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>PTrans</strong></p>
<div class="ulist">
<ul>
<li>
<p>logback replaces log4j as logging backend</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>REST API documentation</strong></p>
<div class="ulist">
<ul>
<li>
<p>Improved documentation (no more broken links, more details on parameters and data types)</p>
</li>
<li>
<p><a href="http://www.hawkular.org/docs/rest/rest-metrics.html" class="bare">http://www.hawkular.org/docs/rest/rest-metrics.html</a></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_release_links">Release links</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Github Release:</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/hawkular/hawkular-metrics/releases/tag/0.7.0" class="bare">https://github.com/hawkular/hawkular-metrics/releases/tag/0.7.0</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>JBoss Nexus Maven artifacts:</p>
<div class="ulist">
<ul>
<li>
<p><a href="http://origin-repository.jboss.org/nexus/content/repositories/public/org/hawkular/metrics/" class="bare">http://origin-repository.jboss.org/nexus/content/repositories/public/org/hawkular/metrics/</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Jira release tracker:</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.jboss.org/browse/HWKMETRICS/fixforversion/12327874/" class="bare">https://issues.jboss.org/browse/HWKMETRICS/fixforversion/12327874/</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hawkular_metrics_clients">Hawkular Metrics Clients</h2>
<div class="sectionbody">
<div class="paragraph">
<p>One of Hawkular Metrics' objectives is to <strong>be easy to integrate with</strong>; providing language specific clients is an important component for fulfilling this objective. Here is the current list of official clients:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ruby: <a href="https://github.com/hawkular/hawkular-client-ruby" class="bare">https://github.com/hawkular/hawkular-client-ruby</a></p>
</li>
<li>
<p>Python: <a href="https://github.com/hawkular/hawkular-client-python" class="bare">https://github.com/hawkular/hawkular-client-python</a></p>
</li>
<li>
<p>Go: <a href="https://github.com/hawkular/hawkular-client-go" class="bare">https://github.com/hawkular/hawkular-client-go</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_thanks">Thanks</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A big "Thank  you" goes to John Sanda, Thomas Segismont, Mike Thompson, Matt Wringe, Michael Burman, Libor Zoubek, Jirka Kremser, and Heiko Rupp for their project  contributions.</p>
</div>
</div>
</div></p>
            <br />
            <hr /><br />
            <br />
            <a href="blog/2015/09/23/hawkular-1.0.0.Alpha5-released.html"><h1>The fifth milestone of Hawkular released</h1></a>
            <p>23 September 2015, by Heiko W.Rupp</p>
            <p><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Hawkular, the monitoring platform, is happy to announce the release of its fourth milestone 1.0.0.Alpha5.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_improvements_in_wildfly_handling">Improvements in WildFly handling</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Along with other improvments and bug fixes, this release has again circled around improved support for WildFly kind
of servers.</p>
</div>
<div class="sect2">
<h3 id="_deploy_to_wildfly_servers">Deploy to WildFly servers</h3>
<div class="paragraph">
<p>It is now possible to upload deployments to managed WildFly servers</p>
</div>
<div class="paragraph">
<p>On the deployments subtab, there is now a button that triggers a wizard to upload a deployment to a managed server:</p>
</div>
<div id="img-server-add-deployment" class="imageblock">
<div class="content">
<img src="/img/blog/2015/2015-09-23-add-deployment-step.png" alt="Deployment step">
</div>
<div class="title">Figure 1. Wizard step to add a deployment</div>
</div>
</div>
<div class="sect2">
<h3 id="_creation_of_jdbc_driver_modules">Creation of JDBC driver modules</h3>
<div class="paragraph">
<p>There is also a new dialog to add a JDBC driver to a managed WildFly server</p>
</div>
<div id="img-add-jdbc-driver" class="imageblock">
<div class="content">
<img src="/img/blog/2015/2015-09-23-add-driver.png" alt="Add JDBC-Driver button">
</div>
<div class="title">Figure 2. Add JDBC-Driver button</div>
</div>
</div>
<div class="sect2">
<h3 id="_jdr_report">JDR Report</h3>
<div class="paragraph">
<p>And last but not least it is possible to obtain a so called 'JBoss Diagnostic Report' from a managed server, which
can then be sent to Red Hat support when a case has been opened. You will find a button at the end of the WildFly
server pages.</p>
</div>
<div class="paragraph">
<p>Full list of Jira issues fixed in this release:
<a href="/releasenotes/1.0.0.Alpha5.html">Release Notes - Hawkular - Version 1.0.0.Alpha5</a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_watch_the_demo_online">Watch the demo online</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Join us on
<a href="https://plus.google.com/events/crndlsuatqmk52ac9el8dbnueao" class="bare">https://plus.google.com/events/crndlsuatqmk52ac9el8dbnueao</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_downloads">Downloads</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can download the release here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://download.jboss.org/hawkular/hawkular/1.0.0.Alpha5/hawkular-dist-1.0.0.Alpha5.zip">Hawkular 1.0.0.Alpha5 (zip)</a></p>
</li>
<li>
<p><a href="http://download.jboss.org/hawkular/hawkular/1.0.0.Alpha5/hawkular-dist-1.0.0.Alpha5.tar.gz">Hawkular 1.0.0.Alpha5(tar.gz)</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_s_next">What&#8217;s next?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The next Alpha is planned for October 21st, and we are looking forward to work on the following features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Central alert center</p>
</li>
<li>
<p>Improve handling of JDBC drivers</p>
</li>
<li>
<p>Creation of data sources</p>
</li>
<li>
<p>Easier installation of the WildFly agent</p>
</li>
</ul>
</div>
</div>
</div></p>
            <br />
            <hr /><br />
            <br />
            <a href="blog/2015/09/03/monitoring-rails-using-hawkular-metrics.html"><h1>Monitoring Rails App using Hawkular Metrics</h1></a>
            <p>03 September 2015, by Libor Zoubek</p>
            <p><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In this post I am going to show a way to monitor Rails application performance using Hawkular Metrics.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_setting_up_hawkular_metrics">Setting up Hawkular Metrics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are several ways of setting up Hawkular Metrics standalone server.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Build &amp; deploy</strong> - follow <a href="https://github.com/hawkular/hawkular-metrics">Hawkular Metrics Readme</a></p>
</li>
<li>
<p><strong>Docker image</strong> - start <a href="https://hub.docker.com/r/hawkular/hawkular-metrics/">Hawkular Metrics Docker Image</a></p>
</li>
<li>
<p><strong>Public instance</strong> - use <a href="http://livingontheedge.hawkular.org/hawklar/metrics" class="bare">http://livingontheedge.hawkular.org/hawklar/metrics</a> which runs full Hawkular including Metrics. But be sure your data will get lost at some point as this instance gets rebuilt/cleaned up from time to time.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hawkular_ruby_client">Hawkular Ruby Client</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Recently we started to work on a <a href="https://github.com/hawkular/hawkular-client-ruby">hawkular-client</a> in Ruby. So far we have implemented APIs for Hawkular Metrics. In this post we&#8217;ll use the client to push metric data, but it can also retrieve data for further analysis or reports, for more see <a href="http://www.hawkular.org/hawkular-client-ruby/Hawkular/Metrics/Client.html">documentation</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitoring_rails_application">Monitoring Rails Application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are several ways to monitor your Rails application&#8217;s performance. The way being shown here is pretty easy to implement, but requires modifications in Rails application. It takes advantage of <code>around_filter</code> of main ApplicationController. Within this filter we&#8217;re going to measure each controller&#8217;s response time to handle request.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_rails_demo_application">Rails Demo Application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I&#8217;ve created simple Rails4 application called <a href="https://github.com/lzoubek/rails-demo">rails-demo</a>.</p>
</div>
<div class="paragraph">
<p>I added the dependency on <a href="https://rubygems.org/gems/hawkular-client">hawkular-client</a> gem.</p>
</div>
<div class="paragraph">
<p>The <a href="https://github.com/lzoubek/rails-demo/blob/master/app/controllers/application_controller.rb">Application controller</a> code is pretty easy</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-ruby" data-lang="ruby">require "hawkularclient"

class ApplicationController &lt; ActionController::Base

  # Prevent CSRF attacks by raising an exception.
  # For APIs, you may want to use :null_session instead.
  protect_from_forgery with: :exception


  class MetricsReporter

    def initialize
      tenant_id = "hawkular.org"
      # create hawkular metrics client <b class="conum">(1)</b>
      @client = Hawkular::Metrics::Client::new("http://localhost:8080/hawkular/metrics","","",{:tenant =&gt; tenant_id})
      # create tenant in case it does not exist
      if @client.tenants.query.select { |tenant|  tenant.id == tenant_id}.empty?
      	@client.tenants.create(tenant_id)
      end
    end

    def around(controller, &amp;block)
      # measure measure measure
      now = Time.now
      block.call
      time_spent = Time.now - now
      # metric ID must be unique within tenant <b class="conum">(2)</b>
      gauge = "App.#{controller.class.name}:#{controller.params[:action]}"
      # make sure metric definition is created <b class="conum">(3)</b>
      @client.gauges.create({:id =&gt; gauge, :tags =&gt; {:app =&gt; "App"}}) rescue
      # report time in milliseconds
      @client.gauges.push_data(gauge ,{:value =&gt; time_spent * 1000})
    end

  end

  # enable filter
  around_filter MetricsReporter::new

end</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>We create Hawkular Metrics <strong>@client</strong>. Point it to your instance URL, leave user/pass empty (as this has not been implemented yet) and set <strong>tenant</strong> option.</p>
</li>
<li>
<p>We encode our application Name, controller name and controller action into metric ID. So we have different metrics for listing objects and ie. editing an object.</p>
</li>
<li>
<p>We need to create metric definition with our tags, so we&#8217;re able to find all metrics related to rails-demo app later. This line is not required in case you don&#8217;t want to assign tags to your metric definitions.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Let&#8217;s start Rails dev environment</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-bash" data-lang="bash">gem install rails
git clone https://github.com/lzoubek/rails-demo.git
cd rails-demo
bundler install
bin/rake db:migrate RAILS_ENV=development
rails server</code></pre>
</div>
</div>
<div class="paragraph">
<p>By now, WEBrick should be listening on localhost, open <a href="http://localhost:3000/products" class="bare">http://localhost:3000/products</a> and in case there is no error displayed congratulations, we are monitoring <strong>rails-demo</strong>! Let&#8217;s start hitting the UI with some more requests using helper bash script located in <code>rails-demo</code> repository</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-bash" data-lang="bash">./hit.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p>At this time we are simulating traffic on <strong>rails-demo</strong> application and pushing controller&#8217;s response times to Hawkular Metrics service.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_results">The Results</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Currently Hawkular Metrics (standalone) has no UI. But there is a bunch of useful angular components like <a href="https://github.com/hawkular/hawkular-charts">hawkular-charts</a>, so I wrote simple UI which can at least find metric definitions by tags and draw metric data into line chart.</p>
</div>
<div class="paragraph">
<p>To watch metric data from rails-demo application open <a href="http://lzoubek.github.io/hawkular-metrics-ui-demo">Hawkular Metrics UI Demo</a>, fill in <strong>Metrics API URL</strong> (must be reachable from browser), <strong>Tenant ID</strong> and tags.</p>
</div>
<div id="rails-controller-response-times" class="imageblock" style="text-align: center">
<div class="content">
<a class="image" href="/img/blog/2015/hawkular-metrics-demo-ui.png"><img src="/img/blog/2015/hawkular-metrics-demo-ui.png" alt="Rails Controller response times" width="800"></a>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_s_next">What&#8217;s next?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As you may have already noticed, Hawkular Metrics server perfomance can have negative impact on rails-demo application performance because we synchronously push the data within around_filter code.  Even the fact, that rails application must be modified in order to be monitored might not be a good thing. In the next blog post I&#8217;ll write a simple service that is going to parse rails log files and report  data to Hawkular Metrics. In fact, it would be awesome to reuse <a href="https://github.com/scoutapp/scout-plugins">scout plugins</a> and forward their reports into Hawkular Metrics.</p>
</div>
<div class="paragraph">
<p>Having metrics is only one piece in puzzle. Integration with <a href="/docs/components/alerts/index.html">Hawkular Alerts</a> will let you detect performance regressions or unexpected loads.</p>
</div>
</div>
</div></p>
            <br />
            <hr /><br />
            <br />
            <a href="blog/2015/08/29/hawkular-metrics-0.6.0.Final-released.html"><h1>Hawkular-Metrics 0.6.0 Release</h1></a>
            <p>29 August 2015, by Stefan Negrea</p>
            <p><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>I am happy to announce release 0.6.0 of Hawkular Metrics. The release is anchored by enhancements for counter metrics, updates to the container infrastructure, and overall performance and stability enhancements.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_major_changes">Major Changes:</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Querying</strong></p>
<div class="ulist">
<ul>
<li>
<p>Metrics can now be searched with regexp filtering capabilities on tags</p>
</li>
<li>
<p>Metrics queries now support logical AND for tags</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Internal</strong></p>
<div class="ulist">
<ul>
<li>
<p>TenantId and type were moved to the MetricId instead of Metric class</p>
</li>
<li>
<p>Implicit tenants (not manaully created prior to sending first set of metric data) are now created on metrics insertion</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Container</strong></p>
<div class="ulist">
<ul>
<li>
<p>Updated to the latest Heapster version (0.17)</p>
</li>
<li>
<p>The communication between the Hawkular Metrics and Cassandra containers have now been secured. This means that only Hawkular Metrics can communicate with its Cassandra containers.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Counters</strong></p>
<div class="ulist">
<ul>
<li>
<p>Per-minute rates can be retrieved via the /hawkular/metrics/counters/{id}/rate endpoint.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Task scheduling</strong></p>
<div class="ulist">
<ul>
<li>
<p>The scheduler API and schema has undergone several changes. It is now possible to group related tasks so that order of execution can be controlled when there are interdependencies. There is still ongoing work to support asynchronous job execution and to provide fault tolerance.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Ruby Client</strong></p>
<div class="ulist">
<ul>
<li>
<p>The project has now an official Ruby client, this joins the existing Go and Python clients.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hawkular_metrics_clients">Hawkular Metrics Clients</h2>
<div class="sectionbody">
<div class="paragraph">
<p>One of Hawkular Metrics' objectives is to <strong>be easy to integrate with</strong>; providing language specific clients is an important component for fulfilling this objective. Here is the current list of official clients:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ruby: <a href="https://github.com/hawkular/hawkular-client-ruby" class="bare">https://github.com/hawkular/hawkular-client-ruby</a></p>
</li>
<li>
<p>Python: <a href="https://github.com/hawkular/hawkular-client-python" class="bare">https://github.com/hawkular/hawkular-client-python</a></p>
</li>
<li>
<p>Go: <a href="https://github.com/hawkular/hawkular-client-go" class="bare">https://github.com/hawkular/hawkular-client-go</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_release_links">Release links</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Github Release:</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/hawkular/hawkular-metrics/releases/tag/0.6.0" class="bare">https://github.com/hawkular/hawkular-metrics/releases/tag/0.6.0</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>JBoss Nexus Maven artifacts:</p>
<div class="ulist">
<ul>
<li>
<p><a href="http://origin-repository.jboss.org/nexus/content/repositories/public/org/hawkular/metrics/" class="bare">http://origin-repository.jboss.org/nexus/content/repositories/public/org/hawkular/metrics/</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Jira release tracker:</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.jboss.org/browse/HWKMETRICS/fixforversion/12327689/" class="bare">https://issues.jboss.org/browse/HWKMETRICS/fixforversion/12327689/</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_thanks">Thanks</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A big "Thank  you" goes to John Sanda, Thomas Segismont, Mike Thompson, Matt Wringe, Michael Burman, Libor Zoubek, Jirka Kremser, and Heiko Rupp for their project  contributions.</p>
</div>
</div>
</div></p>
            <br />
            <hr /><br />
            <br />



    <div class="large-4 columns blog-post-listings">
        <h2>Older posts:</h2>
        <ul>
          <li>27 August 2015 - <a href="blog/2015/08/27/hawkular-1.0.0.Alpha4-released.html">The fourth milestone of Hawkular released</a></li>
          <li>25 August 2015 - <a href="blog/2015/08/25/hawkular-alerts-autoresolve.html">Introduction to AutoResolve triggers</a></li>
          <li>19 August 2015 - <a href="blog/2015/08/19/hawkular-alerts-standalone.html">Using Hawkular Alerts as a standalone engine</a></li>
          <li>14 August 2015 - <a href="blog/2015/08/14/hawkular-btm-0.3.0-demo.html">Visualising Business Transaction Information using Hawkular BTM 0.3.0.Final with RTGov Integration</a></li>
          <li>30 July 2015 - <a href="blog/2015/07/30/hawkular-1.0.0.Alpha3-released.html">Hawkular, all good things make three!</a></li>
          <li>22 July 2015 - <a href="blog/2015/07/22/hawkular-btm-0.2.0-demo.html">Monitoring a Vert.x Application using Hawkular BTM 0.2.0.Final</a></li>
          <li>02 July 2015 - <a href="blog/2015/07/02/hawkular-1.0.0.Alpha2-released.html">Hawkular, the second release!</a></li>
          <li>01 July 2015 - <a href="blog/2015/07/01/hawkular-btm-0-1-0-released.html">Hawkular-BTM 0.1.0 released</a></li>
          <li>01 July 2015 - <a href="blog/2015/07/01/hawkular-btm-0.1.0-demo.html">Monitoring a SwitchYard Application using Hawkular BTM 0.1.0.Final</a></li>
          <li>22 June 2015 - <a href="blog/2015/06/23/hawkular-metrics-0-4-0-released.html">Hawkular-Metrics 0.4.0 release and the way beyond</a></li>
          <li>17 June 2015 - <a href="blog/2015/06/17/marsjug-and-rivieradev-retrospective.html">MarsJUG and RivieraDEV retrospective</a></li>
          <li>04 June 2015 - <a href="blog/2015/06/04/hawkular-1.0.0.Alpha1-released.html">Hawkular, the first release!</a></li>
          <li>01 June 2015 - <a href="blog/2015/06/01/hawkular-metrics-0-3-4-released.html">Hawkular-Metrics 0.3.4 release and the way beyond</a></li>
          <li>30 April 2015 - <a href="blog/2015/04/30/introducing-btm.html">Introducing the latest Hawkular component: Business Transaction Management</a></li>
          <li>29 April 2015 - <a href="blog/2015/04/29/hello-to-gsoc-students.html">Hello GSoC Students</a></li>
          <li>17 April 2015 - <a href="blog/2015/04/14/intro-to-hawkular.html">Intro to Hawkular, a middleware open-source management solution</a></li>
          <li>14 April 2015 - <a href="blog/2015/04/14/hawkular-monitor-agent-intro.html">Hawkular-Monitor Agent</a></li>
          <li>09 April 2015 - <a href="blog/2015/04/09/alert-notifiers-for-mobile-devices.html">Alert notifiers for mobile devices</a></li>
          <li>08 April 2015 - <a href="blog/2015/2015-04-08-1.html">Testing collectd integration</a></li>
          <li>07 April 2015 - <a href="blog/2015/2015-04-07-1.html">Hawkular-Metrics 0.3.1 release</a></li>
          <li>01 April 2015 - <a href="blog/2015/2015-04-01-1.html">Hawkular Discontinued</a></li>
          <li>30 March 2015 - <a href="blog/2015/2015-03-30-1.html">Dockerized Hawkular builds available</a></li>
          <li>24 February 2015 - <a href="blog/2015/2015-02-24-1.html">The Kettle starts boiling</a></li>
          <li>16 February 2015 - <a href="blog/2015/2015-02-16-1.html">Hawkular-Metrics 0.2.7 release</a></li>
        <br/><br/>
    </div>

    <a href=feed.xml><i class="fa fa-rss"></i> RSS Feed</a>
</div>


		</div>
		<div id="push"></div>
    </div>

    <section class="redhat clearfix">
      <div class="container">
        <p class="pull-left">
          <a href="http://www.redhat.com/">
            <img alt="redhatlogo-white" src="/img/redhatlogo-white.png" width="130">
          </a>
        </p>
        <p class="muted credit pull-right">&copy; 2015 | Baked with <a href="http://jbake.org">JBake v2.4.0</a></p>
    <p id="forkongithubp"><span id="forkongithub">
      <a href="https://github.com/hawkular" class="bg-grey">
        Fork me on GitHub
      </a>
    </span></p>
      </div>
    </section>

    <!-- javascript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- js -->
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <script src="js/jbossorg-tabzilla.js"></script>
    <script src="js/behavior.js"></script>
    <script src="js/prettify.js"></script>
    <script src="js//ekko-lightbox.min.js"></script>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'hawkular';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-61728352-1', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>
