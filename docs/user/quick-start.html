<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Hawkular - Quick start</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="generator" content="JBake">

    <!-- css -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="../../css/bootstrap.min.css" rel="stylesheet">
    <link href="../../css/asciidoctor.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link href="../../css/tabzilla.css" rel="stylesheet">
    <link href="../../css/styles.css" rel="stylesheet">
    <link href="../../css/prettify.css" rel="stylesheet">
    <link href="../../css/ekko-lightbox.min.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
    <script src="../../js/moment.min.js"></script>
    <script src="../../js/jquery-1.11.2.min.js"></script>

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" href="../../favicon.ico">
    
  </head>
  <body onload="prettyPrint()" data-spy="scroll" data-offset="80" data-target="#toc">
    <div id="wrap">
      <div class="dropup">
        <a class="tabnav-closed" href="#" id="tab">Red Hat</a>
        <script>
            window.addEventListener('load', function() {
                 renderTabzilla("Hawkular", "https://hawkular.github.io", true );
            }, false);
        </script>
      </div>

    	<!-- Fixed navbar -->
        <nav class="navbar navbar-fixed-top" role="navigation">
          <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button class="navbar-toggle collapsed" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="../../index.html">Home</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
              <ul class="nav navbar-nav">
                <li><a href="../../index.html">Hawkular</a></li>
                <li><a href="../../docs/overview.html">Overview</a></li>
                <li><a href="../../docs/user/quick-start.html">Quick Start</a></li>
                <li class=""><a href="../../downloads.html">Downloads</a></li>
                <li class="dropdown"><a aria-expanded="false" class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">
                  Documentation
                  <span class="caret"></span>
                </a>
                <ul class="dropdown-menu" role="menu">
                  <li>
                    <a href="../../docs/user/user-guide.html">User Guide</a>
                  </li>
                  <li>
                    <a href="../../docs/user/installation-guide.html">Installation Guide</a>
                  </li>
                  <!--li>
                    <a href="../../docs/dev/terms.html">Used Terms</a>
                  </li-->
                  <li class="menu-item dropdown dropdown-submenu">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">REST API</a>
                    <ul class="dropdown-menu">
                      <li class="menu-item ">
                        <a href="../../docs/rest/rest-alerts.html">Alerts</a>
                      </li>
                      <li class="menu-item ">
                        <a href="../../docs/rest/rest-btm.html">Business Transaction Management</a>
                      </li>
                      <li class="menu-item ">
                        <a href="../../docs/rest/rest-inventory.html">Inventory</a>
                      </li>
                      <li class="menu-item ">
                        <a href="../../docs/rest/rest-metrics.html">Metrics</a>
                      </li>
                    </ul>
                  </li>
                  <li class="menu-item dropdown dropdown-submenu">
                    <a href="javascript:;" onclick="return false;" class="dropdown-toggle" data-toggle="dropdown">Sub-projects</a>
                    <ul class="dropdown-menu">
                      <li class="menu-item ">
                        <a href="../../docs/components/alerts/index.html">Alerts</a>
                      </li>
                      <li class="menu-item ">
                        <a href="../../docs/components/btm/index.html">Business Transaction Management</a>
                      </li>
                      <li class="menu-item ">
                        <a href="../../docs/components/inventory/index.html">Inventory</a>
                      </li>
                      <li class="menu-item ">
                        <a href="../../docs/components/metrics/index.html">Metrics</a>
                      </li>
                    </ul>
                  </li>
                </ul>
                <li class="dropdown"><a aria-expanded="false" class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">
                  Community
                  <span class="caret"></span>
                </a>
                <ul class="dropdown-menu" role="menu">
                  <li>
                    <a href="../../community/index.html">Home</a>
                  </li>
                  <li>
                    <a href="../../community/join.html">Join</a>
                  </li>
                  <li>
                    <a href="../../license.html">License</a>
                  </li>
                  <li>
                    <a href="../../docs/dev/development.html">Developer Guide</a>
                  </li>
                  <li>
                    <a href="https://travis-ci.org/hawkular">CI Builds</a>
                  </li>
                </ul></li>
                <li class=""><a href="../../blog.html">Blog</a></li>
              </ul>
            </div>
          </div>
        </nav>

      <section class="main-banner">
        <div class="container">
          <h1>Quick start</h1>
          <p>Fastest route to get Hawkular up and running</p>
        </div>
      </section>

	<!--<p><em>08 June 2015</em></p>-->

	<section>
      <div class="container">
        <div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title"></div>
<ul class="sectlevel1">
<li><a href="#_before_we_start">Before we start</a></li>
<li><a href="#_step_1_installing_hawkular_server">Step 1: Installing Hawkular server</a>
<ul class="sectlevel2">
<li><a href="#_option_a_install_from_a_zip_file_on_any_operating_system">Option A: Install from a zip file on any operating system</a></li>
<li><a href="#_option_b_install_from_a_docker_image">Option B: Install from a docker image</a></li>
</ul>
</li>
<li><a href="#_step_2_install_a_hawkular_wildfly_agent">Step 2: Install a Hawkular WildFly Agent</a></li>
<li><a href="#_troubleshooting">Troubleshooting</a>
<ul class="sectlevel2">
<li><a href="#_error_on_starting_hawkular_outofmemoryerror_unable_to_create_new_native_thread">Error on starting Hawkular- OutOfMemoryError: unable to create new native thread</a></li>
<li><a href="#_unable_to_resolve_realm_public_key_remotely_status_404">Unable to resolve realm public key remotely, status = 404</a></li>
<li><a href="#_can_t_do_anything_without_a_feed_aborting_startup_java_lang_runtimeexception_cannot_get_tenant_id">Can&#8217;t do anything without a feed; aborting startup: java.lang.RuntimeException: Cannot get tenant ID</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_before_we_start">Before we start</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We&#8217;ll install an Hawkular server and then instrument a WildFly server to be manageable by the server.
We suppose that you have Java 8 already installed on your machine.
To install the server we propose an alternative using Docker, we suppose that you have Docker already installed.</p>
</div>
<div class="paragraph">
<p>Hawkular uses Cassandra. Out of the box Hawkular is configured to use an embedded
single-node cluster. You do not have to worry about setting up and configuring
Cassandra before getting started with Hawkular.</p>
</div>
<div class="paragraph">
<p>For a more proper installation, please refer to <a href="user/installation-guide.html">the installation guide</a></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The embedded Cassandra is not intended for production use, we definitely recommend to use a separate Cassandra server.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_1_installing_hawkular_server">Step 1: Installing Hawkular server</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_option_a_install_from_a_zip_file_on_any_operating_system">Option A: Install from a zip file on any operating system</h3>
<div class="paragraph">
<p>Download
<a href="http://download.jboss.org/hawkular/hawkular/x.y.z/hawkular-dist-x.y.z.zip">Hawkular x.y.z (zip)</a>
and then unzip and start the server as shown below.</p>
</div>
<div class="listingblock">
<div class="title">Unzip and start the server</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-shell" data-lang="shell">unzip hawkular-dist-x.y.z.zip
cd hawkular-x.y.z
bin/standalone.sh  # use standalone.bat on Windows</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can then navigate your browser to <a href="http://localhost:8080/" class="bare">http://localhost:8080/</a>. When you see the login screen,
you have to register as a user and will then be redirected to the main Hawkular page.</p>
</div>
<div class="paragraph">
<p>Should you decide to use another hostname and/or port, you&#8217;d need to change the system property <code>keycloak.server.url</code>
 either via command line or by changing the <code>standalone.xml</code>. Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-bash" data-lang="bash">bin/standalone.sh -Dkeycloak.server.url=http://localhost:8180/auth</code></pre>
</div>
</div>
<div class="paragraph">
<p>For a more permanent solution, you can change the <code>standalone.xml</code> by setting an appropriate value for the system
property:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">&lt;property name="keycloak.server.url" value="http://localhost:8180/auth"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, just start Keycloak as usual:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-bash" data-lang="bash">bin/standalone.sh</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_option_b_install_from_a_docker_image">Option B: Install from a docker image</h3>
<div class="paragraph">
<p>Hawkular is publishing builds to <a href="https://registry.hub.docker.com/u/jboss/hawkular-aio/">Docker Hub</a> that you can try
and download from Docker.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Those builds are not secured and should not be run on a public network.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following assumes that you have Docker installed and started if necessary.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-shell" data-lang="shell">$ docker run -d -p 8080:8080 jboss/hawkular-aio   <i class="conum" data-value="1"></i><b>(1)</b>
Unable to find image 'jboss/hawkular-aio:latest' locally <i class="conum" data-value="2"></i><b>(2)</b>
latest: Pulling from docker.io/jboss/hawkular-aio
26830c504ec5: Download complete
[...]
612ba72033af: Download complete
Digest: sha256:dd0db25c80464f93fb652906317c003d29bf19e9ba6622ddf4df9377c56d3823
Status: Downloaded newer image for jboss/hawkular-aio:latest <i class="conum" data-value="3"></i><b>(3)</b>
c792a1f059521f6ae99  <i class="conum" data-value="4"></i><b>(4)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Start the docker container in the background (<code>-d</code>) and tell it that the internal (container&#8217;s) port 8080 should be
available as host port 8080 (`-p 8080:8080).</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>This is the first time that image is to be used, so docker is downloading it from Docker Hub, which may take a
while. Starting the same image the next time will only take a few seconds.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Download has finished, Hawkular server will be started</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Hawkular server has started with a container id of <code>c792a1f0595</code>. This id will be different for each start.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now as Docker is running the container and you can reach the Hawkular UI at <a href="http://localhost:8080/" class="bare">http://localhost:8080/</a></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you are running docker on OS/X via boot2docker, you need to use the IP address that is stored in the <code>DOCKER_HOST</code>
environment variable instead of <code>localhost</code>.)
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Stopping the Docker container</div>
<div class="paragraph">
<p>When you are done, you can shut down the container via:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-shell" data-lang="shell">$ docker stop c792a1f0595  <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Container id that was emitted above</td>
</tr>
</table>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Later if you want to upgrade to a newer build just run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-shell" data-lang="shell">$ docker pull jboss/hawkular-aio:latest  <i class="conum" data-value="1"></i><b>(1)</b>
Pulling repository jboss/hawkular-aio
26830c504ec5: Download complete
511136ea3c5a: Download complete
[...]
612ba72033af: Download complete
Status: Image is up to date for jboss/hawkular-aio:latest <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We ask for the latest build</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>In this case the local one was already the latest, so we are good here.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can then navigate your browser to <a href="http://localhost:8080/" class="bare">http://localhost:8080/</a>. When you see the login screen, you have to register as a user and will then be redirected to the main Hawkular page.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_2_install_a_hawkular_wildfly_agent">Step 2: Install a Hawkular WildFly Agent</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now that the server is installed and you have a user registered you would likely want to push some data into that server, at this stage, the only agent we provide is an agent for WildFly 9 and above.</p>
</div>
<div class="paragraph">
<p>Here are the steps to install the Hawkular WildFly agent into your own WildFly Server installation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Download the Hawkular WildFly Agent installer
You can download the installer from <a href="http://localhost:8080/hawkular/wildfly-agent/installer">your Hawkular Server that is already running</a>.</p>
</li>
<li>
<p>Run the installer, telling it the location of your WildFly Server.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>java -jar hawkular-wildfly-agent-installer*.jar --target-location=/your/wildfly/server</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you plan on monitoring multiple servers, pass in the command line option "--managed-server-name=YourUniqueName" where "YourUniqueName" is some <strong>unique</strong> value among your managed machines.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>In the <code>standalone/configuration/standalone.xml</code> file of your WildFly Server in which you just installed the Hawkular WildFly Agent, set your Hawkular credentials in the storage-adapter XML element.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-xml" data-lang="xml">  &lt;storage-adapter type="HAWKULAR" username="SET_ME" password="SET_ME" /&gt; <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>You need to provide username/password for one Hawkular user. The app server will only show for this user.</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Optional: A single Hawkular WildFly Agent instance can also manage multiple remote WildFly servers. In that case you need to enable a remote-dmr section and specify the username and password of a management user of the remote WildFly Server.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now you can start the managed WildFly instance, keeping in mind that if you are following this QuickStart your Hawkular Server is probably already running on port 8080, so you need to run this instance on a different port by starting the server with <code>sh bin/standalone.sh -Djboss.socket.binding.port-offset=100</code> for instance.
Now if you have correcty set up the agent, it will report into your Hawkular Server at <a href="http://localhost:8080/hawkular-ui/app/app-list" class="bare">http://localhost:8080/hawkular-ui/app/app-list</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_troubleshooting">Troubleshooting</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_error_on_starting_hawkular_outofmemoryerror_unable_to_create_new_native_thread">Error on starting Hawkular- OutOfMemoryError: unable to create new native thread</h3>
<div class="paragraph">
<p>This may happen if you use Cassandra embedded with Hawkular on *x systems</p>
</div>
<div class="paragraph">
<p>Cassandra requires <code>ulimit</code> settings that are higher than usual on common *nix distributions. First check your present limits with <code>ulimit -a</code> and eventually increase open files to 65535 and max user processes to 4096 as appropriate on your system.</p>
</div>
<div class="paragraph">
<p>On RHEL, CentOS and Fedora the settings can be made persistent in <code>/etc/security/limits.conf</code> like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[your_username]          hard    nofile          65535
[your_username]          soft    nofile          65535
[your_username]          hard    nproc           4096
[your_username]          soft    nproc           4096</pre>
</div>
</div>
<div class="paragraph">
<p>where <code>[your_username]</code> needs to be replaced by the by the name of the user who starts Hawkular or Cassandra nodes.</p>
</div>
</div>
<div class="sect2">
<h3 id="_unable_to_resolve_realm_public_key_remotely_status_404">Unable to resolve realm public key remotely, status = 404</h3>
<div class="paragraph">
<p>Exception: <code>ERROR [io.undertow.request] (default task-2) UT005023: Exception handling request to
/hawkular/accounts/personas/current:</code> <code>java.lang.RuntimeException: Unable to resolve realm public key remotely, status
= 404</code></p>
</div>
<div class="paragraph">
<p>This happens when the auth server (Keycloak) cannot be reached. Make sure that the authentication server URL is set
to the correct location of the Keycloak server. This might be wrong if you are using the <code>-b</code> option to bind
Wildfly to a specific IP or if you have specified a port-offset (<code>-Djboss.socket.binding.port-offset=123</code>).</p>
</div>
<div class="paragraph">
<p>The property to verify is called <code>auth-server-url</code> and is located on the following files:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$HAWKULAR_HOME/standalone/configuration/standalone.xml
$HAWKULAR_HOME/modules/org/hawkular/nest/main/deployments/hawkular-console.war/keycloak.json</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_can_t_do_anything_without_a_feed_aborting_startup_java_lang_runtimeexception_cannot_get_tenant_id">Can&#8217;t do anything without a feed; aborting startup: java.lang.RuntimeException: Cannot get tenant ID</h3>
<div class="paragraph">
<p>Exception: <code>ERROR [org.hawkular.agent.monitor.service.MonitorService] (Controller Boot Thread) HAWKMONITOR010026:</code>
<code>Can&#8217;t do anything without a feed; aborting startup: java.lang.RuntimeException: Cannot get tenant ID</code></p>
</div>
<div class="paragraph">
<p>Similar to the above: make sure that your auth server (Keycloak) configuration is correct.</p>
</div>
</div>
</div>
</div>
      </div>
    </section>

		</div>
		<div id="push"></div>
    </div>

    <section class="redhat clearfix">
      <div class="container">
        <p class="pull-left">
          <a href="http://www.redhat.com/">
            <img alt="redhatlogo-white" src="../..//img/redhatlogo-white.png" width="130">
          </a>
        </p>
        <p class="muted credit pull-right">&copy; 2015 | Hawkular is released under <a href="/license.html">Apache License v2.0</a></p>
    <p id="forkongithubp"><span id="forkongithub">
      <a href="https://github.com/hawkular" class="bg-grey">
        Fork me on GitHub
      </a>
    </span></p>
      </div>
    </section>

    <!-- javascript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- js -->
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <script src="../../js/jbossorg-tabzilla.js"></script>
    <script src="../../js/behavior.js"></script>
    <script src="../../js/prettify.js"></script>
    <script src="../../js//ekko-lightbox.min.js"></script>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'hawkular';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-61728352-1', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>
