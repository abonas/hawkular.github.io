<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Hawkular - Inventory Documentation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="generator" content="JBake">

    <!-- css -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="../../../css/bootstrap.min.css" rel="stylesheet">
    <link href="../../../css/asciidoctor.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link href="../../../css/tabzilla.css" rel="stylesheet">
    <link href="../../../css/styles.css" rel="stylesheet">
    <link href="../../../css/prettify.css" rel="stylesheet">
    <link href="../../../css/ekko-lightbox.min.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
    <script src="../../../js/moment.min.js"></script>
    <script src="../../../js/jquery-1.11.2.min.js"></script>

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" href="../../../favicon.ico">
    
  </head>
  <body onload="prettyPrint()" data-spy="scroll" data-offset="80" data-target="#toc">
    <div id="wrap">
      <div class="dropup">
        <a class="tabnav-closed" href="#" id="tab">Red Hat</a>
        <script>
            window.addEventListener('load', function() {
                 renderTabzilla("Hawkular", "https://hawkular.github.io", true );
            }, false);
        </script>
      </div>

    	<!-- Fixed navbar -->
        <nav class="navbar navbar-fixed-top" role="navigation">
          <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button class="navbar-toggle collapsed" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="../../../index.html">Home</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
              <ul class="nav navbar-nav">
                <li><a href="../../../index.html">Hawkular</a></li>
                <li>
                  <a href="../../../docs/user/getting-started.html">Getting
                      Started</a>
                </li>
                <li class=""><a href="../../../downloads.html">Downloads</a></li>
                <li class="dropdown"><a aria-expanded="false" class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">
                  Documentation
                  <span class="caret"></span>
                </a>
                <ul class="dropdown-menu" role="menu">
                  <li>
                    <a href="../../../docs/user/getting-started.html">User Documentation</a>
                  </li>
                  <li>
                    <a href="../../../docs/dev/development.html">Developer Documentation</a>
                  </li>
                  <li>
                    <a href="../../../docs/dev/terms.html">Used Terms</a>
                  </li>
                  <li class="menu-item dropdown dropdown-submenu">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">REST API</a>
                    <ul class="dropdown-menu">
                      <li class="menu-item ">
                        <a href="../../../docs/rest/rest-alerts.html">Alerts</a>
                      </li>
                      <li class="menu-item ">
                        <a href="../../../docs/rest/rest-btm.html">Business Transaction Management</a>
                      </li>
                      <li class="menu-item ">
                        <a href="../../../docs/rest/rest-inventory.html">Inventory</a>
                      </li>
                      <li class="menu-item ">
                        <a href="../../../docs/rest/rest-metrics.html">Metrics</a>
                      </li>
                    </ul>
                  </li>
                  <li class="menu-item dropdown dropdown-submenu">
                    <a href="javascript:;" onclick="return false;" class="dropdown-toggle" data-toggle="dropdown">Sub-projects</a>
                    <ul class="dropdown-menu">
                      <li class="menu-item ">
                        <a href="../../../docs/components/btm/index.html">Business Transaction Management</a>
                      </li>
                      <li class="menu-item ">
                        <a href="../../../docs/components/inventory/index.html">Inventory</a>
                      </li>
                      <li class="menu-item ">
                        <a href="../../../docs/components/metrics/index.html">Metrics</a>
                      </li>
                    </ul>
                  </li>
                </ul>
                <li class="dropdown"><a aria-expanded="false" class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">
                  Community
                  <span class="caret"></span>
                </a>
                <ul class="dropdown-menu" role="menu">
                  <li>
                    <a href="../../../community/index.html">Home</a>
                  </li>
                  <li>
                    <a href="../../../community/join.html">Join</a>
                  </li>
                  <li>
                    <a href="../../../license.html">License</a>
                  </li>
                  <li>
                    <a href="https://travis-ci.org/hawkular">CI Builds</a>
                  </li>
                </ul></li>
                <li class=""><a href="../../../blog.html">Blog</a></li>
              </ul>
            </div>
          </div>
        </nav>

      <section class="main-banner">
        <div class="container">
          <h1>Inventory Documentation</h1>
          <p></p>
        </div>
      </section>

	<!--<p><em>09 July 2015</em></p>-->

	<section>
      <div class="container">
        <div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title"></div>
<ul class="sectlevel1">
<li><a href="#Introduction">Introduction</a></li>
<li><a href="#types-of-entities">Types of Entities</a>
<ul class="sectlevel2">
<li><a href="#tenant">Tenant</a></li>
<li><a href="#environment">Environment</a></li>
<li><a href="#resource">Resource</a></li>
<li><a href="#metric">Metric</a></li>
<li><a href="#resource-type">Resource Type</a></li>
<li><a href="#metric-type">Metric Type</a></li>
<li><a href="#feed">Feed</a></li>
</ul>
</li>
<li><a href="#inventory-organization">Inventory Organization</a>
<ul class="sectlevel2">
<li><a href="#basic-principles">Basic Principles</a></li>
</ul>
</li>
<li><a href="#configuration">Configuration</a>
<ul class="sectlevel2">
<li><a href="#locating-config-file">Locating Configuration File</a></li>
<li><a href="#configuration-properties">Configuration Properties</a></li>
</ul>
</li>
<li><a href="#rest-api">REST API</a>
<ul class="sectlevel2">
<li><a href="#_paths">Paths</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Inventory is simply a registry of "things" that Hawkular knows about. It
contains info about your applications, servers, etc. It also keeps track of
their relationships with each other.</p>
</div>
<div class="paragraph">
<p>As such inventory is a graph where nodes are the "things" or "resources" you
monitor and manage in Hawkular and edges are relationships between those
resources.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Most of the key concepts described on this page will be available
since version <code>0.2.0</code>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="types-of-entities">Types of Entities</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To help with classification of the resources you want to monitor, inventory
understands a couple of other types of entities.</p>
</div>
<div class="sect2">
<h3 id="tenant">Tenant</h3>
<div class="paragraph">
<p>Tenants are units of data separation. There may be no relationships between
entities in different tenants.</p>
</div>
<div class="paragraph">
<p>From the point of view of the REST API user, tenants are invisible, because they
are directly deduced from the login credentials (+ optionally a persona) passed
in the request.</p>
</div>
</div>
<div class="sect2">
<h3 id="environment">Environment</h3>
<div class="paragraph">
<p>Environments correspond to the common deployment policies in the enterprise
where for example applications are developed in an "development" environment and
then are promoted to "test", "staging" and finally to "production".</p>
</div>
</div>
<div class="sect2">
<h3 id="resource">Resource</h3>
<div class="paragraph">
<p>A resource, as already hinted in the <a href="#Introduction">Introduction</a>, is the representation of
the "thing" in your infrastructure that is being monitored and managed by
Hawkular.</p>
</div>
<div class="paragraph">
<p>Most importantly, a resource references metrics that are relevant to it. Notice
that metrics are standalone entities that can exist even without a resource
referencing them though and that there is essentially an M to N mapping between
resources and metrics (meaning that a single metric can be referenced by
multiple resources).</p>
</div>
<div class="paragraph">
<p>The idea behind this separation is that metrics represent concrete qualities
or measurements being collected while resources are essentially only a logical
concept that may or may not correspond to an actual piece of software deployed
on some machine.</p>
</div>
<div class="paragraph">
<p>This is best imagined if you consider the resources as things you yourself can
compose on your own. For example you might want to create a resource "Health
Indicators" for which you would pick and choose several metrics collected
possibly on several machines representing the health of your infrastructure.</p>
</div>
</div>
<div class="sect2">
<h3 id="metric">Metric</h3>
<div class="paragraph">
<p>Each resource can have a number of metrics associated with it. As an example,
we can monitor the <code>response time</code> on an URL. While the actual data, i.e. the
individual measurements of the response time, are being stored in
<a href="../metrics/index.html">Hawkular Metrics</a>, the definition of the metric is
held in inventory, too. This is to keep track of what resources are composed of.</p>
</div>
<div class="paragraph">
<p>Notice though that resources do not "own" their metrics. Rather, an m-to-n
relationship exists between the two, meaning that a single metric can be
incorporated into several resources (or none). Please refer to
<a href="#resource">Resource chapter</a> for more detailed discussion of this.</p>
</div>
</div>
<div class="sect2">
<h3 id="resource-type">Resource Type</h3>
<div class="paragraph">
<p>A resource type provides metadata about resources - i.e. what metrics they
support what are the operations one can execute on them and with what kind of
parameters, etc.</p>
</div>
<div class="paragraph">
<p>Each resource (i.e. thing being monitored and managed by Hawkular) has to have
a resource type.</p>
</div>
<div class="paragraph">
<p>As with resources and metrics, resource types can reference metric types which
define the metadata of the metrics to be referenced by the resources. As with
resources and metrics, resource types and metric types are separate standalone
entities with m-to-n relationships.</p>
</div>
</div>
<div class="sect2">
<h3 id="metric-type">Metric Type</h3>
<div class="paragraph">
<p>Metric type defines metadata of a metric. Namely it is its unit.</p>
</div>
</div>
<div class="sect2">
<h3 id="feed">Feed</h3>
<div class="paragraph">
<p>A feed is a representation of an "agent" that collects monitoring data and
performs management operations. Feeds also report on the metrics and resources
(along with their types) it found in the place they are running.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="inventory-organization">Inventory Organization</h2>
<div class="sectionbody">
<div id="img-inventory-organization" class="imageblock" style="text-align: center">
<div class="content">
<img src="/img/docs/components/inventory/index/inventory-entity-diagram.png" alt="Inventory Organization">
</div>
<div class="title">Figure 1. Inventory Organization</div>
</div>
<div class="sect2">
<h3 id="basic-principles">Basic Principles</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Data is Pushed</dt>
<dd>
<p>All data, including identifiers of the entities, is generated in the clients
of inventory.</p>
<div class="paragraph">
<p>This means that, generally speaking, an entity cannot be uniquely identified by
its, client-generated, ID. To uniquely identify an entity, one has to use its
canonical path.</p>
</div>
</dd>
<dt class="hdlist1">Canonical Paths</dt>
<dd>
<p>A canonical path follows the <code>contains</code> relationships from a tenant down to the
entity in question.</p>
<div class="paragraph">
<p>The canonical path has a form illustrated by the following example:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><strong>/t;</strong><em>tenant-id</em><strong>/e;</strong><em>env-id</em><strong>/r;</strong><em>resource-id</em></p>
</div>
</div>
</div>
<div class="paragraph">
<p>The above example is a canonical path to a resource with ID <code>resource-id</code> which
is located in environment <code>env-id</code> which is inside a tenant <code>tenant-id</code>.</p>
</div>
<div class="paragraph">
<p>The type specifiers in the individual path segments can be these:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>t</strong> - tenant</p>
</li>
<li>
<p><strong>e</strong> - environment</p>
</li>
<li>
<p><strong>rt</strong> - resource type</p>
</li>
<li>
<p><strong>mt</strong> - metric type</p>
</li>
<li>
<p><strong>f</strong> - feed</p>
</li>
<li>
<p><strong>r</strong> - resource</p>
</li>
<li>
<p><strong>m</strong> - metric</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Globally Unique Feeds</dt>
<dd>
<p>The only thing that needs to be globally unique in inventory are the feeds.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Currently this fact is not taken advantage of, but in future, new APIs
will be added specifically for feeds so that the only piece of information they
need will be their ID and inventory will store the data in the correct place.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Therefore, feeds need to register with inventory prior to their normal
operation. The feeds can propose their ID and inventory will accept it if it is
unique, otherwise inventory will assign a new unique ID to the feed and the feed
is expected to make note of it and use it from that point on.</p>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration">Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Inventory is configurable using several means.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>There are built-in defaults.</p>
</li>
<li>
<p>Configuration can be read from a configuration file</p>
</li>
<li>
<p>Several configuration properties can be overriden using java system properties and environment variables.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Inventory uses a single configuration file even though several different and
independent subsystems are configured using it.</p>
</div>
<div class="paragraph">
<p>First it can be used to override the choice of inventory implementation in case
there are more of them on the classpath.</p>
</div>
<div class="paragraph">
<p>Second,</p>
</div>
<div class="sect2">
<h3 id="locating-config-file">Locating Configuration File</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If there is a system property called <code>hawkular-inventory.conf</code> the value is
supposed to be a path to file from which the configuration will be loaded.</p>
</li>
<li>
<p>If such system property is not defined, the system checks for existence of a
file called <code>.hawkular-inventory.conf</code> in the home directory of the user running
the server.</p>
</li>
<li>
<p>If no such file exists, the default configuration is used.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="configuration-properties">Configuration Properties</h3>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Available Configuration Properties</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property Name</th>
<th class="tableblock halign-left valign-top">Availability</th>
<th class="tableblock halign-left valign-top">Environment Variable</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This is the property to be used in the configuration file. Also this is the
name of the system property to override the configured value with (if not
specified otherwise)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Some properties are only available for certain components inside inventory
that might or might not be present during the runtime</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This is the name of the environment variable to override the value</em></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hawkular.inventory.impl</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>always</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HAWKULAR_INVENTORY_IMPL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>undefined</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The fully qualified class name of the <code>org.hawkular.inventory.api.Inventory</code>
interface implementation that is accessible on the runtime classpath.
</p><p class="tableblock">If this property is not present, the first implementation available using Java
service loading mechanism is used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hawkular.inventory.transaction.retries</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inventory implementation inheriting from
<code>org.hawkular.inventory.base.BaseInventory</code> (this is true by default)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HAWKULAR_INVENTORY_TRANSACTION_RETRIES</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The base implementation assumes that the backend storage uses some kind of
optimistic locking for transaction handling. This property defines the number of
retries of transactions if they fail due to locking or concurrent access
situations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hawkular.inventory.tinkerpop.graph-provider-impl</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inventory implementation based on Tinkerpop2 API (the default)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HAWKULAR_INVENTORY_TINKERPOP_GRAPH_PROVIDER_IMPL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>undefined</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The fully qualified class name of an implementation of the
<code>org.hawkular.inventory.impl.tinkerpop.spi.GraphProvider</code> interface.
</p><p class="tableblock">Tinkerpop is an API that is implemented by multiple graph databases. This
property can be used to override the default selection mechanism that is to use
the first implementation loaded using the Java services mechanism. Hawkular is
by default packaged with <a href="http://thinkaurelius.github.io/titan/">Titan</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>storage.hostname</code> (system property
<code>hawkular.inventory.titan.storage.hostname</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Titan graph provider used (which is the default)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HAWKULAR_INVENTORY_TITAN_STORAGE_HOSTNAME</code> or <code>CASSANDRA_NODES</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">127.0.0.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The host for contacting backend storage for Titan. Because Titan in Hawkular
by default uses Cassandra which is also used by Metrics, the <code>CASSANDRA_NODES</code>
environment variable is recognized by both components.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>storage.port</code> (system property <code>hawkular.inventory.titan.storage.port</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Titan graph provider used (which is the default)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HAWKULAR_INVENTORY_TITAN_STORAGE_PORT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>undefined</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is the port to connect to the Titan storage backend. The default value
is dependent on the storage chosen. For Cassandra, this is <code>9160</code> which is the
default Thrift API port.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>storage.cassandra.keyspace</code> (system property
<code>hawkular.inventory.titan.storage.cassandra.keyspace</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Titan graph provider used (which is the default)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HAWKULAR_INVENTORY_TITAN_STORAGE_CASSANDRA_KEYSPACE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hawkular_inventory</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Cassandra keyspace to use for storing inventory data through Titan.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock"><em>The configuration file can also contain any other configuration option
specific for the Titan backend. Please consult the
<a href="http://s3.thinkaurelius.com/docs/titan/current/titan-config-ref.html">Titan configuration</a>.
</em></p><p class="tableblock"><em>You can also consult the
<a href="https://github.com/hawkular/hawkular-inventory/blob/master/hawkular-integrated-inventory-rest/src/main/resources/hawkular-inventory.properties">default configuration</a>
of the default inventory deployment (using Titan with Cassandra backend).</em></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rest-api">REST API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>While the main, generated, REST API documentation is present
<a href="../../rest/rest-inventory.html">here</a>, in here we discuss some aspects of
the API that are not well described in the docs generated from the code.</p>
</div>
<div class="sect2">
<h3 id="_paths">Paths</h3>
<div class="paragraph">
<p>As mentioned in <a href="#basic-principles">Basic Principles</a> entities can only be
uniquely defined by their paths, not just IDs.</p>
</div>
<div class="paragraph">
<p>In REST API, such paths are inlined in the URL address like in the following
example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>http://my.host/hawkular/inventory/tenant/env/res/metrics/../metric</pre>
</div>
</div>
<div class="paragraph">
<p>The above URL means that we want to check if the resource <code>res</code> incorporates
a metric called <code>metric</code> that is located in the same environment. I.e. the path
to the metric is expressed as a relative path to the resource.</p>
</div>
<div class="paragraph">
<p>For example, if one wanted to relate to a metric in another environment, one
would use a URL similar to this one:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>http://my.host/hawkular/inventory/tenant/env/res/metrics/../../env2/metric</pre>
</div>
</div>
<div class="paragraph">
<p>Notice that one needn&#8217;t to specify the type in the path segments, contrary to
what was shown in <a href="#basic-principles">Basic Principles</a>. This is because
the REST API is trying to infer the type from what type is being looked for and
the current "location" of the entity to which the path is relative.</p>
</div>
<div class="paragraph">
<p>The inference mechanism is quite powerful but some relative paths are inherently
ambiguous without specific type information so there will be situations where
the type specifier in some of the segments will need to be provided like this:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>http://my.host/hawkular/inventory/tenant/env/res/metrics/../../e;env2/metric</pre>
</div>
</div>
<div class="paragraph">
<p>In <a href="#basic-principles">Basic Principles</a> the canonical path is described to
start with a tenant ID. While technically that is true, the REST API presents
and receives the paths WITHOUT the tenant id. This is because the REST API
deduces the tenant ID from the authentication information in the request.</p>
</div>
<div class="paragraph">
<p>Thus, when you pass canonical paths to the REST API, don&#8217;t start it with the
tenant ID, but with the path segment following it. The paths returned from the
REST API will not contain the tenant ID either.</p>
</div>
</div>
</div>
</div>
      </div>
    </section>

		</div>
		<div id="push"></div>
    </div>

    <section class="redhat clearfix">
      <div class="container">
        <p class="pull-left">
          <a href="http://www.redhat.com/">
            <img alt="redhatlogo-white" src="../../..//img/redhatlogo-white.png" width="130">
          </a>
        </p>
        <p class="muted credit pull-right">&copy; 2015 | Baked with <a href="http://jbake.org">JBake v2.4.0</a></p>
    <p id="forkongithubp"><span id="forkongithub">
      <a href="https://github.com/hawkular" class="bg-grey">
        Fork me on GitHub
      </a>
    </span></p>
      </div>
    </section>

    <!-- javascript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- js -->
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <script src="../../../js/jbossorg-tabzilla.js"></script>
    <script src="../../../js/behavior.js"></script>
    <script src="../../../js/prettify.js"></script>
    <script src="../../../js//ekko-lightbox.min.js"></script>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'hawkular';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-61728352-1', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>
