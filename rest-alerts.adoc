

== Base Path
#`http://localhost:8080/hawkular/alerts`#

== REST APIs
=== Alert Handling



==============================================
*Endpoint* `/alert/{alertId}`


NOTE: *Get an existing Alert* 

*Method*
****
*GET* `/alert/{alertId}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |alertId|true|Id of alert to be retrieved|string
|=======================
*query parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |thin|false|return only a thin alert, do not include: evalSets, resolvedEvalSets|boolean
|=======================

*Response* +
Alert

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Alert found | -
| 404    | Alert not found | -
| 500    | Internal server error | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/resolve/{alertId}`


NOTE: *Set one alert Resolved* 

*Method*
****
*PUT* `/resolve/{alertId}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |alertId|true|alertId to set Resolved|string
|=======================
*query parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |resolvedBy|false|user resolving the alerts|string
    |resolvedNotes|false|additional notes asscoiated with the resolution|string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Alerts Resolution invoked successfully. | -
| 500    | Internal server error | -
| 400    | Bad Request/Invalid Parameters | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/resolve`


NOTE: *Set one or more alerts Resolved* 

*Method*
****
*PUT* `/resolve`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*query parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |alertIds|true|comma separated list of alertIds to set Resolved|string
    |resolvedBy|false|user resolving the alerts|string
    |resolvedNotes|false|additional notes asscoiated with the resolution|string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Alerts Resolution invoked successfully. | -
| 500    | Internal server error | -
| 400    | Bad Request/Invalid Parameters | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/data`


NOTE: *Send data for alert processing/condition evaluation.* 

*Method*
****
*POST* `/data`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*body parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|true|data to be processed by alerting|<<MixedData,MixedData>>
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, data added. | -
| 500    | Internal server error | -
| 400    | Bad Request/Invalid Parameters | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/reload`


NOTE: *Reload all definitions into the alerts service* +
      _This service is temporal for demos/poc, this functionality will be handled internallybetween definitions and alerts services_

*Method*
****
*GET* `/reload`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success. Reload invoked successfully. | -
| 500    | Internal server error | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/reload/{triggerId}`


NOTE: *Reload a specific trigger into the alerts service* 

*Method*
****
*GET* `/reload/{triggerId}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true||string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success. Reload invoked successfully. | -
| 500    | Internal server error | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/`


NOTE: *Get alerts with optional filtering* 

*Method*
****
*GET* `/`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*query parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |startTime|false|filter out alerts created before this time, millisecond since epoch|long
    |endTime|false|filter out alerts created after this time, millisecond since epoch|long
    |alertIds|false|filter out alerts for unspecified alertIds, comma separated list of alert IDs|string
    |triggerIds|false|filter out alerts for unspecified triggers, comma separated list of trigger IDs|string
    |statuses|false|filter out alerts for unspecified lifecycle status, comma separated list of status values|string
    |severities|false|filter out alerts for unspecified severity, comma separated list of severity values|string
    |tags|false|filter out alerts for unspecified tags, comma separated list of tags, each tag of format [category|]name|string
    |thin|false|return only thin alerts, do not include: evalSets, resolvedEvalSets|boolean
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success | -
| 500    | Internal server error | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/ack`


NOTE: *Set one or more alerts Acknowledged* 

*Method*
****
*PUT* `/ack`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*query parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |alertIds|true|comma separated list of alertIds to Ack|string
    |ackBy|false|user acknowledging the alerts|string
    |ackNotes|false|additional notes asscoiated with the acknowledgement|string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Alerts Acknowledged invoked successfully | -
| 500    | Internal server error | -
| 400    | Bad Request/Invalid Parameters | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/{alertId}`


NOTE: *Delete an existing Alert* 

*Method*
****
*DELETE* `/{alertId}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |alertId|true|Alert id to be deleted|string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Alert deleted | -
| 500    | Internal server error | -
| 404    | Alert not found | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/delete`


NOTE: *Delete alerts with optional filtering* 

*Method*
****
*PUT* `/delete`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*query parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |startTime|false|filter out alerts created before this time, millisecond since epoch|long
    |endTime|false|filter out alerts created after this time, millisecond since epoch|long
    |alertIds|false|filter out alerts for unspecified alertIds, comma separated list of alert IDs|string
    |triggerIds|false|filter out alerts for unspecified triggers, comma separated list of trigger IDs|string
    |statuses|false|filter out alerts for unspecified lifecycle status, comma separated list of status values|string
    |severities|false|filter out alerts for unspecified severity, comma separated list of severity values|string
    |tags|false|filter out alerts for unspecified tags, comma separated list of tags, each tag of format &#39;name|value&#39;. Specify &#39;*&#39; for value to match all values.|string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success | -
| 500    | Internal server error | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/ack/{alertId}`


NOTE: *Set one alert Acknowledged* 

*Method*
****
*PUT* `/ack/{alertId}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |alertId|true|alertId to Ack|string
|=======================
*query parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |ackBy|false|user acknowledging the alerts|string
    |ackNotes|false|additional notes associated with the acknowledgement|string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Alert Acknowledged invoked successfully | -
| 500    | Internal server error | -
| 400    | Bad Request/Invalid Parameters | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/note/{alertId}`


NOTE: *Add a note into an existing Alert* 

*Method*
****
*PUT* `/note/{alertId}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |alertId|true|alertId to add the note|string
|=======================
*query parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |user|false|author of the note|string
    |text|false|text of the note|string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Alert Acknowledged invoked successfully | -
| 500    | Internal server error | -
| 400    | Bad Request/Invalid Parameters | -

|=======================

{empty} +

==============================================

{empty} +

=== Action Handling



==============================================
*Endpoint* `/actions/`


NOTE: *Create a new action* +
      _Action properties are variable and depends on the action plugin. A user needs to request previously ActionPlugin API to get the list of properties to fill for a specific type. All actions should have actionId and actionPlugin as mandatory properties_

*Method*
****
*POST* `/actions/`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*body parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|true|Action properties. Properties depend of specific ActionPlugin.|<<UNKNOWN[string],UNKNOWN[string]>>
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Action Created | -
| 500    | Internal server error | -
| 400    | Existing action/Invalid Parameters | -

|=======================

{empty} +

NOTE: *Find all action ids grouped by plugin* +
      _Pagination is not yet implemented_

*Method*
****
*GET* `/actions/`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success. | -
| 500    | Internal server error | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/actions/{actionPlugin}/{actionId}`


NOTE: *Get an existing action* +
      _Action is represented as a map of properties._

*Method*
****
*GET* `/actions/{actionPlugin}/{actionId}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |actionPlugin|true|Action plugin|string
    |actionId|true|Action id to be retrieved|string
|=======================

*Response* +
Map&lt;String, String&gt;[java.lang.String]

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Action Found | -
| 404    | No Action Found | -
| 500    | Internal server error | -

|=======================

{empty} +

NOTE: *Update an existing action* +
      _Action properties are variable and depends on the action plugin. A user needs to request previously ActionPlugin API to get the list of properties to fill for a specific type. All actions should have actionId and actionPlugin as mandatory properties_

*Method*
****
*PUT* `/actions/{actionPlugin}/{actionId}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |actionPlugin|true|Action plugin|string
    |actionId|true|action id to be updated|string
|=======================
*body parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|true|Action properties. Properties depend of specific ActionPlugin.|<<UNKNOWN[string],UNKNOWN[string]>>
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Action Updated | -
| 500    | Internal server error | -
| 404    | Action not found for update | -

|=======================

{empty} +

NOTE: *Delete an existing action* 

*Method*
****
*DELETE* `/actions/{actionPlugin}/{actionId}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |actionPlugin|true|Action plugin|string
    |actionId|true|Action id to be deleted|string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Action Deleted | -
| 500    | Internal server error | -
| 404    | ActionId not found for delete | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/actions/plugin/{actionPlugin}`


NOTE: *Find all action ids of an specific action plugin* +
      _Pagination is not yet implemented_

*Method*
****
*GET* `/actions/plugin/{actionPlugin}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |actionPlugin|true|Action plugin to filter query for action ids|string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success | -
| 500    | Internal server error | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/actions/history`


NOTE: *Get actions from history with optional filtering* 

*Method*
****
*GET* `/actions/history`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*query parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |startTime|false|filter out actions created before this time, millisecond since epoch|long
    |endTime|false|filter out action created after this time, millisecond since epoch|long
    |actionPlugins|false|filter out actions for unspecified actionPlugin, comma separated list of plugin names|string
    |actionIds|false|filter out actions for unspecified actionId, comma separated list of action IDs|string
    |alertIds|false|filter out actions for unspecified alertIds, comma separated list of alert IDs|string
    |results|false|filter out alerts for unspecified result, comma separated list of action results|string
    |thin|false|return only thin actions, do not include full alert, only alertId|boolean
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success | -
| 500    | Internal server error | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/actions/history/delete`


NOTE: *Delete actions from history with optional filtering* 

*Method*
****
*PUT* `/actions/history/delete`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*query parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |startTime|false|filter out actions created before this time, millisecond since epoch|long
    |endTime|false|filter out action created after this time, millisecond since epoch|long
    |actionPlugins|false|filter out actions for unspecified actionPlugin, comma separated list of plugin names|string
    |actionIds|false|filter out actions for unspecified actionId, comma separated list of action IDs|string
    |alertIds|false|filter out actions for unspecified alertIds, comma separated list of alert IDs|string
    |results|false|filter out alerts for unspecified result, comma separated list of action results|string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success | -
| 500    | Internal server error | -

|=======================

{empty} +

==============================================

{empty} +

=== Query operations for action plugins



==============================================
*Endpoint* `/plugins/{actionPlugin}`


NOTE: *Find list of properties to fill for a specific action plugin* +
      _Each action plugin can have a different and variable number of properties. This method should be invoked before of a creation of a new action._

*Method*
****
*GET* `/plugins/{actionPlugin}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |actionPlugin|true|Action plugin to query|string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Action Plugin found. | -
| 404    | Action Plugin not found. | -
| 500    | Internal server error | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/plugins/`


NOTE: *Find all action plugins* +
      _Pagination is not yet implemented_

*Method*
****
*GET* `/plugins/`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success. | -
| 500    | Internal server error | -

|=======================

{empty} +

==============================================

{empty} +

=== Trigger Handling



==============================================
*Endpoint* `/triggers/groups`


NOTE: *Create a new group trigger* +
      _Returns created GroupTrigger_

*Method*
****
*POST* `/triggers/groups`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*body parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|true|Trigger definition to be created|<<Trigger,Trigger>>
|=======================

*Response* +
Trigger

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Group Trigger Created | -
| 500    | Internal server error | -
| 400    | Bad Request/Invalid Parameters | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/triggers/groups/members`


NOTE: *Create a new member trigger for a parent trigger.* +
      _Returns Member Trigger created if operation finished correctly_

*Method*
****
*POST* `/triggers/groups/members`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*body parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|true|Group member trigger to be created|<<GroupMemberInfo,GroupMemberInfo>>
|=======================

*Response* +
Trigger

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Member Trigger Created | -
| 500    | Internal server error | -
| 404    | Group trigger not found. | -
| 400    | Bad Request/Invalid Parameters | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/triggers/{triggerId}`


NOTE: *Get an existing trigger definition* 

*Method*
****
*GET* `/triggers/{triggerId}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id to be retrieved|string
|=======================

*Response* +
Trigger

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Trigger found | -
| 404    | Trigger not found | -
| 500    | Internal server error | -

|=======================

{empty} +

NOTE: *Update an existing trigger definition* 

*Method*
****
*PUT* `/triggers/{triggerId}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id to be updated|string
|=======================
*body parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|true|Updated trigger definition|<<Trigger,Trigger>>
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Trigger updated | -
| 500    | Internal server error | -
| 404    | Trigger doesn&#39;t exist/Invalid Parameters | -

|=======================

{empty} +

NOTE: *Delete an existing trigger definition* 

*Method*
****
*DELETE* `/triggers/{triggerId}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id to be deleted|string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Trigger deleted | -
| 500    | Internal server error | -
| 404    | Trigger not found | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/triggers/groups/{groupId}`


NOTE: *Update an existing group trigger definition and its member definitions* 

*Method*
****
*PUT* `/triggers/groups/{groupId}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |groupId|true|Group Trigger id to be updated|string
|=======================
*body parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|true|Updated group trigger definition|<<Trigger,Trigger>>
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Group Trigger updated | -
| 500    | Internal server error | -
| 404    | Trigger doesn&#39;t exist/Invalid Parameters | -

|=======================

{empty} +

NOTE: *Delete a group trigger.* 

*Method*
****
*DELETE* `/triggers/groups/{groupId}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |groupId|true|Group Trigger id|string
|=======================
*query parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |keepNonOrphans|true|Convert the non-orphan member triggers to standard triggers.|boolean
    |keepOrphans|true|Convert the orphan member triggers to standard triggers.|boolean
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Group Trigger Removed | -
| 500    | Internal server error | -
| 404    | Group Trigger not found | -
| 400    | Bad Request/Invalid Parameters | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/triggers/`


NOTE: *Get triggers with optional filtering* 

*Method*
****
*GET* `/triggers/`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*query parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerIds|false|filter out triggers for unspecified triggerIds, comma separated list of trigger IDs|string
    |tags|false|filter out triggers for unspecified tags, comma separated list of tags, each tag of format &#39;name|value&#39;. Specify &#39;*&#39; for value to match all values.|string
    |thin|false|return only thin triggers. Currently Ignored|boolean
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success | -
| 500    | Internal server error | -

|=======================

{empty} +

NOTE: *Create a new trigger* +
      _Returns created Trigger_

*Method*
****
*POST* `/triggers/`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*body parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|true|Trigger definition to be created|<<Trigger,Trigger>>
|=======================

*Response* +
Trigger

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Trigger Created | -
| 500    | Internal server error | -
| 400    | Bad Request/Invalid Parameters | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/triggers/groups/{groupId}/members`


NOTE: *Find all Group Member Trigger Definitions* +
      _Pagination is not yet implemented_

*Method*
****
*GET* `/triggers/groups/{groupId}/members`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |groupId|true|Group TriggerId|string
|=======================
*query parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |includeOrphans|false|include Orphan members? No if omitted.|boolean
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success | -
| 500    | Internal server error | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/triggers/groups/members/{memberId}/orphan`


NOTE: *Make a non-orphan member trigger into an orphan.* 

*Method*
****
*POST* `/triggers/groups/members/{memberId}/orphan`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |memberId|true|Member Trigger id to be made an orphan.|string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Trigger updated | -
| 500    | Internal server error | -
| 404    | Trigger doesn&#39;t exist/Invalid Parameters | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/triggers/groups/members/{memberId}/unorphan`


NOTE: *Make a non-orphan member trigger into an orphan.* 

*Method*
****
*POST* `/triggers/groups/members/{memberId}/unorphan`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |memberId|true|Member Trigger id to be made an orphan.|string
|=======================
*body parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|true|Only context and dataIdMap are used when changing back to a non-orphan.|<<UnorphanMemberInfo,UnorphanMemberInfo>>
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Trigger updated | -
| 500    | Internal server error | -
| 404    | Trigger doesn&#39;t exist/Invalid Parameters | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/triggers/{triggerId}/dampenings`


NOTE: *Get all Dampenings for a Trigger (1 Dampening per mode).* 

*Method*
****
*GET* `/triggers/{triggerId}/dampenings`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id to be retrieved|string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success | -
| 500    | Internal server error | -

|=======================

{empty} +

NOTE: *Create a new dampening* +
      _Returns Dampening created if operation finishes correctly_

*Method*
****
*POST* `/triggers/{triggerId}/dampenings`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id attached to dampening|string
|=======================
*body parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|true|Dampening definition to be created|<<Dampening,Dampening>>
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Dampening created | -
| 500    | Internal server error | -
| 400    | Bad Request/Invalid Parameters | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/triggers/{triggerId}/conditions/{conditionId}`


NOTE: *@Deprecated : Use GET /alerts/triggers/{triggerId}/conditions* 

*Method*
****
*GET* `/triggers/{triggerId}/conditions/{conditionId}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id to be retrieved|string
    |conditionId|true||string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Condition found | -
| 404    | No Condition found | -
| 500    | Internal server error | -

|=======================

{empty} +

NOTE: *Deprecated : Use PUT /alerts/triggers/{triggerId}/conditions to set the entire condition set in one service.* 

*Method*
****
*PUT* `/triggers/{triggerId}/conditions/{conditionId}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id to be retrieved|string
    |conditionId|true||string
|=======================
*body parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|false|Json representation of a condition|string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Condition updated | -
| 404    | No Condition found | -
| 500    | Internal server error | -
| 400    | Bad Request/Invalid Parameters | -

|=======================

{empty} +

NOTE: *Deprecated : Use PUT /alerts/triggers/{triggerId}/conditions to set the entire condition set in one service.* 

*Method*
****
*DELETE* `/triggers/{triggerId}/conditions/{conditionId}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id to be retrieved|string
    |conditionId|true||string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Condition deleted | -
| 404    | No Condition found | -
| 500    | Internal server error | -
| 400    | Bad Request/Invalid Parameters | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/triggers/{triggerId}/conditions/{triggerMode}`


NOTE: *Set the conditions for the trigger. This replaces any existing conditions. Returns the new conditions.* 

*Method*
****
*PUT* `/triggers/{triggerId}/conditions/{triggerMode}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|The relevant Trigger.|string
    |triggerMode|true|FIRING or AUTORESOLVE (not case sensitive).|string
|=======================
*body parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|false|Json representation of a condition list. For examples of Condition types, See https://github.com/hawkular/hawkular-alerts/blob/master/hawkular-alerts-rest-tests/src/test/groovy/org/hawkular/alerts/rest/ConditionsITest.groovy|string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Condition Set created | -
| 404    | No trigger found | -
| 500    | Internal server error | -
| 400    | Bad Request/Invalid Parameters | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/triggers/groups/{groupId}/conditions/{triggerMode}`


NOTE: *Set the conditions for the group trigger. This replaces any existing conditions on the group and member conditions.  Returns the new group conditions.* 

*Method*
****
*PUT* `/triggers/groups/{groupId}/conditions/{triggerMode}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |groupId|true|The relevant Group Trigger.|string
    |triggerMode|true|FIRING or AUTORESOLVE (not case sensitive).|string
|=======================
*body parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|false|Json representation of GroupConditionsInfo. For examples of Condition types, See https://github.com/hawkular/hawkular-alerts/blob/master/hawkular-alerts-rest-tests/src/test/groovy/org/hawkular/alerts/rest/ConditionsITest.groovy|string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Group Condition Set created | -
| 404    | No trigger found | -
| 500    | Internal server error | -
| 400    | Bad Request/Invalid Parameters | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/triggers/{triggerId}/conditions`


NOTE: *Deprecated : Use PUT /alerts/triggers/{triggerId}/conditions to set the entire condition set in one service.* 

*Method*
****
*POST* `/triggers/{triggerId}/conditions`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id to be retrieved|string
|=======================
*body parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|false|Json representation of a condition. For examples of Condition types, See https://github.com/hawkular/hawkular-alerts/blob/master/hawkular-alerts-rest-tests/src/test/groovy/org/hawkular/alerts/rest/ConditionsITest.groovy|string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Condition created | -
| 404    | No trigger found | -
| 500    | Internal server error | -
| 400    | Bad Request/Invalid Parameters | -

|=======================

{empty} +

NOTE: *Get all conditions for a specific trigger.* 

*Method*
****
*GET* `/triggers/{triggerId}/conditions`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id to be retrieved|string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success | -
| 500    | Internal server error | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/triggers/{triggerId}/dampenings/mode/{triggerMode}`


NOTE: *Get a dampening using triggerId and triggerMode* 

*Method*
****
*GET* `/triggers/{triggerId}/dampenings/mode/{triggerMode}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id to be retrieved|string
    |triggerMode|true|Trigger mode|<<org.hawkular.alerts.api.model.trigger.Mode,org.hawkular.alerts.api.model.trigger.Mode>>
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success | -
| 500    | Internal server error | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/triggers/{triggerId}/dampenings/{dampeningId}`


NOTE: *Get an existing dampening* 

*Method*
****
*GET* `/triggers/{triggerId}/dampenings/{dampeningId}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id to be retrieved|string
    |dampeningId|true|Dampening id|string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Dampening Found | -
| 404    | No Dampening Found | -
| 500    | Internal server error | -

|=======================

{empty} +

NOTE: *Update an existing dampening definition. Note that the trigger mode can not be changed.* 

*Method*
****
*PUT* `/triggers/{triggerId}/dampenings/{dampeningId}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id to be retrieved|string
    |dampeningId|true|Dampening id|string
|=======================
*body parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|true|Updated dampening definition|<<Dampening,Dampening>>
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Dampening Updated | -
| 404    | No Dampening Found | -
| 500    | Internal server error | -

|=======================

{empty} +

NOTE: *Delete an existing dampening definition* 

*Method*
****
*DELETE* `/triggers/{triggerId}/dampenings/{dampeningId}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |triggerId|true|Trigger definition id to be deleted|string
    |dampeningId|true|Dampening id for dampening definition to be deleted|string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Dampening deleted | -
| 404    | No Dampening found | -
| 500    | Internal server error | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/triggers/groups/{groupId}/dampenings`


NOTE: *Create a new group dampening* +
      _Returns Dampening created if operation finishes correctly_

*Method*
****
*POST* `/triggers/groups/{groupId}/dampenings`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |groupId|true|Group Trigger definition id attached to dampening|string
|=======================
*body parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|true|Dampening definition to be created|<<Dampening,Dampening>>
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Dampening created | -
| 500    | Internal server error | -
| 400    | Bad Request/Invalid Parameters | -

|=======================

{empty} +

==============================================

{empty} +



==============================================
*Endpoint* `/triggers/groups/{groupId}/dampenings/{dampeningId}`


NOTE: *Update an existing group dampening definition. Note that trigger mode can not be changed.* 

*Method*
****
*PUT* `/triggers/groups/{groupId}/dampenings/{dampeningId}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |groupId|true|Trigger definition id to be retrieved|string
    |dampeningId|true|Dampening id|string
|=======================
*body parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |body|true|Updated dampening definition|<<Dampening,Dampening>>
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Dampening Updated | -
| 404    | No Dampening Found | -
| 500    | Internal server error | -

|=======================

{empty} +

NOTE: *Delete an existing group dampening definition* 

*Method*
****
*DELETE* `/triggers/groups/{groupId}/dampenings/{dampeningId}`
****

*header parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |Hawkular-Tenant|false||string
|=======================
*path parameters*

[options="header"]
|=======================
|Parameter|Required|Description|Data Type
    |groupId|true|Trigger definition id to be retrieved|string
    |dampeningId|true|Dampening id for dampening definition to be deleted|string
|=======================

*Response* +
void

*Status codes*
[options="header"]
|=======================
| Status Code | Reason      | Response Model
| 200    | Success, Dampening deleted | -
| 404    | No Dampening found | -
| 500    | Internal server error | -

|=======================

{empty} +

==============================================

{empty} +


== Data Types

{empty} +

[[Alert]]
=== Alert
[options="header"]
|=======================
| Name | Type | Required | Description | Allowable Values
|resolvedTime|long|optional|-|-
|alertId|string|optional|-|-
|ackBy|string|optional|-|-
|ackTime|long|optional|-|-
|severity|Severity|optional|-|LOW, MEDIUM, HIGH, CRITICAL
|dampening|Dampening|optional|-|-
|resolvedBy|string|optional|-|-
|trigger|Trigger|optional|-|-
|resolvedEvalSets|List[Set[ConditionEval]]|optional|-|-
|status|Status|optional|-|OPEN, ACKNOWLEDGED, RESOLVED
|evalSets|List[Set[ConditionEval]]|optional|-|-
|ctime|long|optional|-|-
|tenantId|string|optional|-|-
|triggerId|string|optional|-|-
|notes|List[Note]|optional|-|-
|context|Map[string,string]|optional|-|-
|=======================


[[Dampening]]
=== Dampening
[options="header"]
|=======================
| Name | Type | Required | Description | Allowable Values
|dampeningId|string|optional|-|-
|type|Type|optional|-|STRICT, RELAXED_COUNT, RELAXED_TIME, STRICT_TIME, STRICT_TIMEOUT
|evalTrueSetting|int|optional|Number of required true evaluations for STRICT, RELAXED_COUNT, RELAXED_TIME|>= 1
|evalTimeSetting|long|optional|Time period in milliseconds for RELAXED_TIME, STRICT_TIME, STRICT_TIMEOUT|> 0
|triggerMode|Mode|optional|-|FIRING, AUTORESOLVE
|triggerId|string|optional|-|-
|tenantId|string|optional|-|-
|evalTotalSetting|int|optional|Number of allowed evaluation attempts for RELAXED_COUNT|> evalTrueSetting
|=======================


[[GroupMemberInfo]]
=== GroupMemberInfo
[options="header"]
|=======================
| Name | Type | Required | Description | Allowable Values
|groupId|string|optional|-|-
|memberName|string|optional|-|-
|memberContext|Map[string,string]|optional|-|-
|dataIdMap|Map[string,string]|optional|-|-
|memberId|string|optional|-|-
|=======================


[[MixedData]]
=== MixedData
[options="header"]
|=======================
| Name | Type | Required | Description | Allowable Values
|stringData|java.util.Collection&lt;org.hawkular.alerts.api.model.data.StringData&gt;|optional|-|-
|availability|java.util.Collection&lt;org.hawkular.alerts.api.model.data.Availability&gt;|optional|-|-
|numericData|java.util.Collection&lt;org.hawkular.alerts.api.model.data.NumericData&gt;|optional|-|-
|=======================


[[Trigger]]
=== Trigger
[options="header"]
|=======================
| Name | Type | Required | Description | Allowable Values
|autoResolveAlerts|boolean|optional|-|-
|orphan|boolean|optional|-|-
|autoResolveMatch|Match|optional|-|ALL, ANY
|actions|Map[string,Set[string]]|optional|-|-
|autoEnable|boolean|optional|-|-
|group|boolean|optional|-|-
|description|string|optional|-|-
|severity|Severity|optional|-|LOW, MEDIUM, HIGH, CRITICAL
|name|string|optional|-|-
|autoResolve|boolean|optional|-|-
|tenantId|string|optional|-|-
|autoDisable|boolean|optional|-|-
|memberOf|string|optional|-|-
|tags|Map[string,string]|optional|-|-
|enabled|boolean|optional|-|-
|firingMatch|Match|optional|-|ALL, ANY
|context|Map[string,string]|optional|-|-
|id|string|optional|-|-
|=======================


[[UnorphanMemberInfo]]
=== UnorphanMemberInfo
[options="header"]
|=======================
| Name | Type | Required | Description | Allowable Values
|memberContext|Map[string,string]|optional|-|-
|dataIdMap|Map[string,string]|optional|-|-
|=======================


{empty} +
{empty} +
{empty} +
